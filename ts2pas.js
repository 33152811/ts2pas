#! /usr/bin/env node
/**
* ts2pas
* https://github.com/CWBudde/TS2Pas
*
* Copyright (c) 2016 Christian-W. Budde
* Licensed under the MIT license.
*/

var TObject={$ClassName:"TObject",$Parent:null,ClassName:function(s){return s.$ClassName},ClassType:function(s){return s},ClassParent:function(s){return s.$Parent},$Init:function(){},Create:function(s){return s},Destroy:function(s){for(var prop in s)if(s.hasOwnProperty(prop))delete s.prop},Destroy$:function(s){return s.ClassType.Destroy(s)},Free:function(s){if(s!==null)s.ClassType.Destroy(s)}}
var Exception={$ClassName:"Exception",$Parent:TObject,$Init:function(){var FMessage=""},Create:function(s,Msg){s.FMessage=Msg;return s}}
function stringRepeat(s,n){if(n<1)return'';var r='';while(n>0){if(n&1)r+=s;n>>=1,s+=s};return r};function DupeString(s,n){return stringRepeat(s,n)}
function $W(e){return e.ClassType?e:Exception.Create($New(Exception),e.constructor.name+", "+e.message)}
function $New(c){var i={ClassType:c};c.$Init(i);return i}
function $Is(o,c){if(o===null)return false;return $Inh(o.ClassType,c)};function $Inh(s,c){if(s===null)return false;while((s)&&(s!==c))s=s.$Parent;return(s)?true:false};function $Extend(base,sub,props){function F(){};F.prototype=base.prototype;sub.prototype=new F();sub.prototype.constructor=sub;for(var n in props){if(props.hasOwnProperty(n)){sub.prototype[n]=props[n]}}}
function $AsIntf(o,i){if(o===null)return null;var r=o.ClassType.$Intf[i].map(function(e){return function(){var arg=Array.prototype.slice.call(arguments);arg.splice(0,0,o);return e.apply(o,arg)}});r.O=o;return r};function $As(o,c){if((o===null)||$Is(o,c))return o;throw Exception.Create($New(Exception),"Cannot cast instance of type \""+o.ClassType.$ClassName+"\" to class \""+c.$ClassName+"\"")}
function JError(){}
$Extend(Object,JError,{});function UZ(qo){lg(qo,(qo).split(".")[0]+".pas")};function lg(LU,YZ){if(LU==(LU).split(".")[0])LU+=".d.ts";jt.readFile(LU,function(ZN,SN){var mK="",Tx=null,Tm="";mK=SN.toString("utf8");Tx=v.n6($New(v));Tx.Name=(LU).split(".")[0];Tm=v.L(Tx,mK);jt.writeFile(YZ,Tm,function(WD){});Tx=null})};function Copy$pC(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$pC($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$TK(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$TK($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$vG(s,d){d.persistent=s.persistent;return d}
function Clone$vG($){return{persistent:$.persistent}}
function Copy$gS(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$gS($){return{curr:$.curr,prev:$.prev}}
function Copy$t4(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$t4($){return{curr:$.curr,prev:$.prev}}
function Copy$Wf(s,d){d.persistent=s.persistent;d.interval=s.interval;return d}
function Clone$Wf($){return{persistent:$.persistent,interval:$.interval}}
function Copy$LL(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$LL($){return{encoding:$.encoding,flag:$.flag}}
function Copy$q8(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$q8($){return{encoding:$.encoding,flag:$.flag}}
function Copy$xN(s,d){d.flags=s.flags;d.encoding=s.encoding;d.string_=s.string_;return d}
function Clone$xN($){return{flags:$.flags,encoding:$.encoding,string_:$.string_}}
function Copy$Wb(s,d){d.bufferSize=s.bufferSize;d.encoding=s.encoding;d.fd=s.fd;d.mode=s.mode;d.flags=s.flags;return d}
function Clone$Wb($){return{bufferSize:$.bufferSize,encoding:$.encoding,fd:$.fd,mode:$.mode,flags:$.flags}}
function Copy$hv(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$hv($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$fI(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$fI($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Pn(){var R=null;R=require("fs");return R};function wb(){var R=null;R=require("stream");return R};function Y4(){var R=null;R=require("events");return R};var v={$ClassName:"TTranslator",$Parent:TObject,$Init:function($){TObject.$Init($);$.NeedsSemicolon=false;$.Name="";$.Lb=[];$.Wj=[];$.pv=[];$.Ay=[];$.PP=$.qf=null},yg:function(S){return S.PP.getTokenText()},he:function(S){return S.PP.getToken()},kN:function(S,rm){if(!(S.PP.isIdentifier()||rm.indexOf(v.he(S))>=0))v.W(S,0)},Xm:function(S,Ic){if(!(Ic.indexOf(v.he(S))>=0))v.W(S,0)},yZ:function(S,OA){if(v.he(S)!=OA)v.W(S,OA)},F:function(S){var R="";var vv=0;var Ys=null,n3=0;var gV=null,FW=0;var u6=null,bn=0;var l2=null;var Zo=[],W4=[],iX=[],Vw=[];R="unit "+S.Name+";"+"\r\n"+"\r\n";R+="interface"+"\r\n"+"\r\n";W4=S.Wj;var $t1;for(vv=0,$t1=W4.length;vv<$t1;vv++){Ys=W4[vv];R=R+KA.Zl$(Ys)}
Zo=S.Ay;var $t2;for(n3=0,$t2=Zo.length;n3<$t2;n3++){gV=Zo[n3];R=R+KA.Zl$(gV)}
Vw=S.pv;var $t3;for(FW=0,$t3=Vw.length;FW<$t3;FW++){u6=Vw[FW];R=R+KA.Zl$(u6)}
iX=S.Lb;var $t4;for(bn=0,$t4=iX.length;bn<$t4;bn++){l2=iX[bn];R=R+KA.Zl$(l2)}
return R},n6:function(S){S.NeedsSemicolon=false;return S},W:function(S,ey){var Lz=null,kV="";Lz=j4.getLineAndCharacterOfPosition(S.qf,S.PP.getTokenPos());kV=("Unknown token \""+v.yg(S).toString()+"\" in this context ("+(Lz.line+1).toString()+":"+(Lz.character+1).toString()+")");if(ey>0)kV+=("; Expected ("+ey.toString()+")");console.trace("");throw Exception.Create($New(Exception),kV)},JA:function(S){var R=null;v.kN(S,[]);R=KA.QQ$($New(mE),$AsIntf(S,"uN"));R.Name=v.yg(S);if(v.r(S,54,false))R.Type=v.n(S);if(S.NeedsSemicolon)v.Xm(S,[23,24].slice());return R},k9:function(S,xG){do{xG.push(v.JA(S));if(v.he(S)==23)break;if(v.he(S)!=24)break;if(!v.E(S,false))break}while(!(v.he(S)==23||(!S.PP.isIdentifier())||(!S.NeedsSemicolon)&&(!S.PP.isIdentifier())))},D:function(S){var R=null;var KE=[],KE=[92,9,82,16,23].slice();var DK=0,oZ=false,lY=null;v.yZ(S,73);R=KA.QQ$($New(Cu),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.O(S,[83,106,15].slice(),true);if(v.he(S)==83){v.E(S,true);R.Extends.push(v.k(S))}
if(v.he(S)==106){v.E(S,true);R.Implements.push(v.w(S));while(v.he(S)==24){v.E(S,true);R.Implements.push(v.w(S))}}
v.yZ(S,15);v.a(S,KE,false);while(v.he(S)!=16){DK=0;switch(v.he(S)){case 112:DK=0;v.a(S,[92].slice(),true);break;case 111:DK=1;v.a(S,[92].slice(),true);break;case 110:DK=2;v.a(S,[92].slice(),true);break}
oZ=v.he(S)==113;if(oZ)v.a(S,[92,17].slice(),true);lY=v.FD(S);lY.Visibility=DK;lY.IsStatic=oZ;R.Members.push(lY);if(v.he(S)==23)v.a(S,KE,false)}
v.yZ(S,16);return R},FD:function(S){var R=null;var vt="",g2=false;v.kN(S,[92,17,9,82].slice());if(v.he(S)==17){R=v.m(S)}else{vt=S.PP.getTokenValue();v.O(S,[25,53,54,17].slice(),true);if(v.he(S)==25){v.Y(S);v.O(S,[53,54,17].slice(),true)}
g2=v.he(S)==53;if(g2)v.r(S,54,true);switch(v.he(S)){case 54:R=v.d(S);$As(R,A2).Nullable=g2;break;case 17:if((vt).toLowerCase()=="constructor"){R=v.K(S)}else R=v.U(S);break}
R.Name=vt}
if(S.NeedsSemicolon)v.Xm(S,[23,24,16].slice());return R},Q:function(S){var R=null;v.yZ(S,122);R=KA.QQ$($New(nv),$AsIntf(S,"uN"));v.O(S,[102,108,74,87,73,81,125,126].slice(),true);switch(v.he(S)){case 102:case 108:case 74:R.Variables.push(v.i(S));break;case 87:R.Functions.push(v.g(S));break;case 73:R.Classes.push(v.D(S));break;case 81:R.Enums.push(v.z(S));break;case 125:R.Modules.push(v.P(S));break;case 126:R.Namespaces.push(v.e(S));break}
return R},z:function(S){var R=null;R=v.b(S);return R},g:function(S){var R=null;v.yZ(S,87);R=KA.QQ$($New(TZ),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);R.CallSignature=v.p(S);if(S.NeedsSemicolon)v.Xm(S,[23].slice());return R},P:function(S){var R=null;var XF=[],XF=[82,102,108,74,132,87,73,107,81,125,89,16,23].slice();var Qt=false,FI=null;v.yZ(S,125);R=KA.QQ$($New(WF),$AsIntf(S,"uN"));v.a(S,[9].slice(),true);R.IdentifierPath=v.w(S);v.yZ(S,15);v.O(S,XF,true);while(v.he(S)!=16){Qt=v.he(S)==82;if(Qt){v.O(S,XF.concat([77,56]),true);if(v.he(S)==77){Qt=false;v.E(S,false);v.r(S,23,false);v.O(S,XF,true)}
if(v.he(S)==56){Qt=false;v.E(S,false);v.r(S,23,false);v.O(S,XF,true)}}
switch(v.he(S)){case 102:case 108:R.Variables.push(v.i(S));break;case 74:v.a(S,[81].slice(),false);if(v.he(S)==81){R.Enums.push(v.z(S))}else{FI=KA.QQ$($New(US),$AsIntf(S,"uN"));FI.IsConst=true;v.k9(S,FI.AmbientBindingList);R.Variables.push(FI)}
v.O(S,XF,true);break;case 132:R.TypeAliases.push(v.J(S));v.O(S,XF,true);break;case 87:R.Functions.push(v.g(S));break;case 73:R.Classes.push(v.D(S));v.O(S,XF,true);break;case 125:R.Modules.push(v.P(S));v.O(S,XF,true);break;case 107:R.Interfaces.push(v.X(S));v.O(S,XF,true);break;case 89:v.t(S);if(!S.NeedsSemicolon)v.O(S,XF,true);break;case 81:v.b(S);v.O(S,XF,true);break}
if(v.he(S)==23)v.O(S,XF,true)}
v.yZ(S,16);return R},e:function(S){var R=null;return R},i:function(S){var R=null;v.Xm(S,[102,108,74].slice());R=KA.QQ$($New(US),$AsIntf(S,"uN"));R.IsConst=v.he(S)==74;v.E(S,true);v.k9(S,R.AmbientBindingList);return R},m:function(S){var R=null;R=KA.QQ$($New(KC),$AsIntf(S,"uN"));R.Type=v.C(S);v.Xm(S,[23,16].slice());return R},p:function(S){var R=null;R=KA.QQ$($New(O1),$AsIntf(S,"uN"));v.O(S,[17,25].slice(),true);if(v.he(S)==25){v.Y(S);v.r(S,17,true)}
v.yZ(S,17);v.a(S,[112,110,111,22,18].slice(),true);while(v.he(S)!=18){R.ParameterList.push(v.x(S));if(v.he(S)==24)v.a(S,[22].slice(),false)}
v.Xm(S,[18].slice());v.O(S,[54,23].slice(),true);if(v.he(S)==54)R.Type=v.G(S);return R},D6:function(S){var R=null;var tT=[],tT=[92,9,82,16,23].slice();var mW=0,yR=false,nC=null;v.yZ(S,73);R=KA.QQ$($New(Ru),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);console.log("Read class: "+R.Name);v.O(S,[83,106,15].slice(),true);if(v.he(S)==83){v.E(S,true);R.Extends.push(v.k(S))}
if(v.he(S)==106){v.E(S,true);R.Implements.push(v.w(S));while(v.he(S)==24){v.E(S,true);R.Implements.push(v.w(S))}}
v.yZ(S,15);v.yZ(S,15);v.a(S,tT,false);while(v.he(S)!=16){mW=0;switch(v.he(S)){case 112:mW=0;v.a(S,[92].slice(),true);break;case 111:mW=1;v.a(S,[92].slice(),true);break;case 110:mW=2;v.a(S,[92].slice(),true);break}
yR=v.he(S)==113;if(yR)v.a(S,[92,17].slice(),true);nC=v.FD(S);nC.Visibility=mW;nC.IsStatic=yR;R.Members.push(nC);if(v.he(S)==23)v.a(S,tT,false)}
return R},Z:function(S){var R=null;var ou="",Ft=false;v.kN(S,[92,17,9,82].slice());if(v.he(S)==17){R=v.m(S)}else{ou=v.yg(S);v.O(S,[25,53,54,17].slice(),true);if(v.he(S)==25){v.Y(S);v.O(S,[53,54,17].slice(),true)}
Ft=v.he(S)==53;if(Ft)v.r(S,54,true);switch(v.he(S)){case 54:R=v.d(S);$As(R,A2).Nullable=Ft;break;case 17:if((ou).toLowerCase()=="constructor"){R=v.K(S)}else R=v.U(S);break}
R.Name=ou}
if(S.NeedsSemicolon)v.Xm(S,[23,24,16].slice());return R},K:function(S){var R=null;R=KA.QQ$($New(Rq),$AsIntf(S,"uN"));R.Type=v.C(S);if(S.NeedsSemicolon)v.Xm(S,[23,16].slice());return R},c:function(S){var R=null;v.yZ(S,92);R=KA.QQ$($New(Rq),$AsIntf(S,"uN"));if(v.E(S,false)){v.r(S,17,false)}
v.yZ(S,17);v.a(S,[112,110,111,22,18].slice(),true);while(v.he(S)!=18){R.ParameterList.push(v.x(S));if(v.he(S)==24)v.a(S,[22].slice(),false)}
v.yZ(S,18);v.r(S,54,true);R.Type=v.n(S);return R},y:function(S){var R=null;v.yZ(S,92);R=KA.QQ$($New(bk),$AsIntf(S,"uN"));v.r(S,17,true);while(v.a(S,[22].slice(),false)){R.Parameters.push(v.o(S));v.Xm(S,[24,18,23].slice());if(v.he(S)==18)break}
v.Xm(S,[18,23].slice());if(v.O(S,[54,34].slice(),false))R.ResultType=v.G(S);return R},V:function(S){while(v.O(S,[82,122,107,125,89,1].slice(),true)){{var $t5=v.he(S);if($t5==82){continue}
else if($t5==122){S.Lb.push(v.Q(S))}
else if($t5==107){S.pv.push(v.X(S))}
else if($t5==125){S.Ay.push(v.M(S))}
else if($t5==89){S.Wj.push(v.t(S))}
else if($t5==1){break}}}},b:function(S){var R=null;v.yZ(S,81);R=KA.QQ$($New(MP),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.r(S,15,true);v.E(S,true);do{R.Items.push(v.Tf(S))}while(!(!v.E(S,false)));v.yZ(S,16);return R},Tf:function(S){var R=null;v.kN(S,[]);R=KA.QQ$($New(Gf),$AsIntf(S,"uN"));R.Name=v.yg(S);if(v.r(S,56,false)){v.r(S,8,true);R.Value=v.yg(S);v.s(S)}
v.yZ(S,24);return R},N:function(S){var R=null;v.yZ(S,82);R=KA.QQ$($New(iZ),$AsIntf(S,"uN"));v.a(S,[77].slice(),true);R.Vz=v.he(S)==82||(v.yg(S)).toLowerCase()=="default";if(R.Vz)v.E(S,true);R.Name=v.yg(S);v.r(S,23,true);return R},d:function(S){var R=null;R=KA.QQ$($New(A2),$AsIntf(S,"uN"));R.Type=v.G(S);if(S.NeedsSemicolon)v.kN(S,[23,16,24].slice());return R},I:function(S){var R=null;v.yZ(S,87);R=KA.QQ$($New(fG),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.r(S,17,true);R.Type=v.C(S);return R},o:function(S){var R=null;var nq=false;v.kN(S,[22].slice());nq=v.he(S)==22;if(nq)v.E(S,true);R=KA.QQ$($New(tb),$AsIntf(S,"uN"));R.Name=v.yg(S);v.O(S,[53,54,18].slice(),true);R.Nullable=v.he(S)==53;if(R.Nullable)v.O(S,[54].slice(),true);if(v.he(S)==54)R.Type=v.G(S);return R},C:function(S){var R=null;v.yZ(S,17);R=KA.QQ$($New(uH),$AsIntf(S,"uN"));while(v.a(S,[22].slice(),false)){R.Parameters.push(v.o(S));v.Xm(S,[24,18,23].slice());if(v.he(S)==18)break}
v.Xm(S,[18,23].slice());if(v.O(S,[54,34].slice(),false))R.ResultType=v.G(S);return R},a:function(S,Ts,fA){var R=false;v.s(S);R=S.PP.isIdentifier()||Ts.indexOf(v.he(S))>=0;if((!R)&&fA)v.W(S,0);return R},E:function(S,Ip){var R=false;v.s(S);R=S.PP.isIdentifier();if((!R)&&Ip)v.W(S,69);return R},w:function(S){var R="";v.kN(S,[9].slice());R=v.yg(S);while(v.r(S,21,false)){v.E(S,true);R+="."+v.yg(S)}
return R},t:function(S){var R=null;v.yZ(S,89);R=KA.QQ$($New(oi),$AsIntf(S,"uN"));v.a(S,[37,9].slice(),true);switch(v.he(S)){case 37:R.Name="*";v.r(S,116,true);v.E(S,true);v.r(S,133,true);v.r(S,9,true);break;case 9:R.Name=S.PP.getTokenValue();break;default:R.Name=v.yg(S);v.r(S,56,true);v.E(S,true)}
v.r(S,23,true);return R},h:function(S){var R=null;v.yZ(S,19);R=KA.QQ$($New(JO),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.r(S,54,true);v.O(S,[130,128].slice(),true);R.IsStringIndex=v.he(S)==130;v.r(S,20,true);v.r(S,54,true);R.Type=v.n(S);return R},X:function(S){var R=null;v.yZ(S,107);R=KA.QQ$($New(lJ),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.O(S,[25,83,15].slice(),true);if(v.he(S)==25){v.Y(S);v.O(S,[83,15].slice(),true)}
if(v.he(S)==83){v.E(S,true);R.Extends.push(v.k(S));while(v.he(S)==24){v.E(S,true);R.Extends.push(v.k(S))}}
v.yZ(S,15);R.Type=v.u(S);v.yZ(S,16);return R},U:function(S){var R=null;R=KA.QQ$($New(pl),$AsIntf(S,"uN"));R.Type=v.C(S);if(S.NeedsSemicolon)v.Xm(S,[23,16].slice());return R},M:function(S){var R=null;var Xa=[],Xa=[73,82,81,89,125,87,107,102,23,16].slice();v.yZ(S,125);R=KA.QQ$($New(tx),$AsIntf(S,"uN"));v.a(S,[9].slice(),true);R.Name=v.w(S);v.yZ(S,15);v.O(S,Xa,true);while(v.he(S)!=16){switch(v.he(S)){case 73:R.Classes.push(v.D(S));break;case 82:R.Exports.push(v.N(S));break;case 81:v.b(S);break;case 87:R.Functions.push(v.I(S));break;case 89:v.t(S);break;case 125:R.Modules.push(v.M(S));break;case 107:R.Interfaces.push(v.X(S));break;case 102:R.Variables.push(v.B(S));break}
v.O(S,Xa,true)}
v.yZ(S,16);return R},u:function(S){var R=null;var YK=[],YK=[9,8,92,17,78,19,16].slice();v.yZ(S,15);R=KA.QQ$($New(KY),$AsIntf(S,"uN"));v.a(S,YK,true);while(v.he(S)!=16){R.Members.push(v.f(S));if(([23,24].indexOf(v.he(S))>=0))v.a(S,YK,true)}
v.yZ(S,16);return R},x:function(S){var R=null;v.kN(S,[112,110,111,22].slice());R=KA.QQ$($New(Sp),$AsIntf(S,"uN"));R.Name=v.yg(S);R.IsRest=v.he(S)==22;if(R.IsRest){v.E(S,true);R.Name=v.yg(S);if(v.r(S,54,false))R.Type=v.n(S);v.yZ(S,18);return R}
v.kN(S,[112,110,111].slice());switch(v.he(S)){case 112:R.AccessibilityModifier=0;v.E(S,false);break;case 110:R.AccessibilityModifier=1;v.E(S,false);break;case 111:R.AccessibilityModifier=2;v.E(S,false);break}
v.kN(S,[]);v.O(S,[53,54,56,24,18].slice(),true);R.IsOptional=v.he(S)==53;if(R.IsOptional)v.O(S,[54,56,24,18].slice(),true);if(v.he(S)==54)R.Type=v.G(S);v.Xm(S,[56,24,18].slice());if(v.he(S)==56){v.E(S,true);R.DefaultValue=v.yg(S)}
v.Xm(S,[24,18].slice());return R},j:function(S){var R=null;var tN=[],tN=[69,9,117,128,130,120,103,101,15,17].slice();var SH=null;v.Xm(S,tN);switch(v.he(S)){case 17:R=v.G(S);v.yZ(S,18);v.s(S);break;case 69:R=Yc.id($New(Yc),$AsIntf(S,"uN"),v.w(S));if(v.he(S)==25){$As(R,Yc).Arguments.push(v.q(S));v.s(S)}
break;case 9:R=Yc.id($New(Yc),$AsIntf(S,"uN"),S.PP.getTokenValue());v.s(S);break;case 117:R=KA.QQ$($New(L7),$AsIntf(S,"uN"));v.s(S);break;case 128:R=KA.QQ$($New(S1),$AsIntf(S,"uN"));v.s(S);break;case 103:R=null;v.s(S);break;case 101:R=KA.QQ$($New(Kz),$AsIntf(S,"uN"));$As(R,Kz).Type=v.G(S);break;case 130:R=KA.QQ$($New(cI),$AsIntf(S,"uN"));v.s(S);break;case 120:R=KA.QQ$($New(ih),$AsIntf(S,"uN"));v.s(S);break;case 15:R=v.u(S);v.s(S);break}
while(v.he(S)==19){SH=R;R=KA.QQ$($New(kh),$AsIntf(S,"uN"));$As(R,kh).Type=SH;v.r(S,20,true);v.s(S)}
return R},O:function(S,E6,UB){var R=false;R=E6.indexOf(v.s(S))>=0;if((!R)&&UB)v.W(S,0);return R},r:function(S,kr,WH){var R=false;R=v.s(S)==kr;if((!R)&&WH)v.W(S,kr);return R},s:function(S){var R=0;R=S.PP.scan();return R},G:function(S){var R=null;var LP=[],LP=[69,9,117,128,130,120,103,101,92,15,17].slice();var mC=null;v.O(S,LP,true);if(v.he(S)==17)return v.C(S);if(v.he(S)==92)return v.y(S);R=v.j(S);while(v.he(S)==47){if(!$Is(R,Cl)){mC=R;R=KA.QQ$($New(Cl),$AsIntf(S,"uN"));$As(R,Cl).Types.push(mC)}
v.O(S,LP,true);$As(R,Cl).Types.push(v.j(S))}
return R},J:function(S){var R=null;v.yZ(S,132);R=KA.QQ$($New(wG),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.O(S,[25,56].slice(),true);if(v.he(S)==25){v.Y(S);v.r(S,56,true)}
R.Type=v.G(S);v.yZ(S,23);return R},n:function(S){var R=null;v.yZ(S,54);R=v.G(S);return R},q:function(S){var R=null;v.yZ(S,25);R=KA.QQ$($New(uD),$AsIntf(S,"uN"));R.Type=v.G(S);v.yZ(S,27);return R},f:function(S){var R=null;var Lf=null;var l6="",q6=false;v.kN(S,[9,8,110,92,78,17,19].slice());if(v.he(S)==92)return v.c(S);if(v.he(S)==17)return v.m(S);if(v.he(S)==19)return v.h(S);if(S.PP.isIdentifier()||([9,8,78].indexOf(S.PP.getToken())>=0)){l6=v.yg(S);v.O(S,[25,53,54,17].slice(),true);if(v.he(S)==25){Lf=v.q(S);v.O(S,[53,54,17].slice(),true)}
q6=v.he(S)==53;if(q6)v.O(S,[54,17].slice(),true);switch(v.he(S)){case 54:R=v.d(S);$As(R,A2).Nullable=q6;break;case 17:R=v.U(S);break}
R.Name=l6}
return R},Y:function(S){var R=null;v.yZ(S,25);R=KA.QQ$($New(Ex),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.O(S,[83,27].slice(),true);if(v.he(S)==83){R.ExtendsType=v.G(S);v.yZ(S,27)}
return R},k:function(S){var R=null;v.kN(S,[]);R=KA.QQ$($New(Wn),$AsIntf(S,"uN"));R.Name=v.w(S);if(v.he(S)==25){v.q(S);v.s(S)}
return R},B:function(S){var R=null;v.yZ(S,102);R=KA.QQ$($New(yK),$AsIntf(S,"uN"));v.E(S,true);R.Name=v.yg(S);v.r(S,54,true);R.Type=v.G(S);return R},L:function(S,mU){var R="";S.PP=j4.createScanner(0,true,0,mU);S.qf=j4.createSourceFile("main",mU,0);try{v.V$(S)}catch($e){var nj=$W($e);console.error(nj.FMessage)}
R=v.F$(S);return R},Destroy:TObject.Destroy,F$:function($){return $.ClassType.F($)},V$:function($){return $.ClassType.V($)}};v.$Intf={uN:[]}
var UV=["Warning","Error","Message"];var tS=["vPublic","vProtected","vPrivate"];var KA={$ClassName:"TCustomDeclaration",$Parent:TObject,$Init:function($){TObject.$Init($);$.qV=null},lN:function(S){++Xd},QQ:function(S,Dm){S.qV=Dm;return S},bb:function(S){--Xd},of:function(S){var R="";R=DupeString("  ",Xd);return R},Destroy:TObject.Destroy,QQ$:function($){return $.ClassType.QQ.apply($.ClassType,arguments)},Zl$:function($){return $.ClassType.Zl($)}};var X3={$ClassName:"TCustomType",$Parent:KA,$Init:function($){KA.$Init($)},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:KA.Zl};var Ej={$ClassName:"TCustomNamedType",$Parent:X3,$Init:function($){X3.$Init($)},Zl:function(S){var R="";R="J"+Ej.Ub$(S);return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)},Ub$:function($){return $.ClassType.Ub($)}};var Ee={$ClassName:"TPredefinedType",$Parent:Ej,$Init:function($){Ej.$Init($)},Zl:function(S){var R="";R=Ej.Ub$(S);return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)},Ub:Ej.Ub};var L7={$ClassName:"TVariantType",$Parent:Ee,$Init:function($){Ee.$Init($)},Ub:function(S){var R="";R="Variant";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ee.Zl,Ub$:function($){return $.ClassType.Ub($)}};var sD={$ClassName:"TNamedDeclaration",$Parent:KA,$Init:function($){KA.$Init($);$.Name=""},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:KA.Zl};var yK={$ClassName:"TVariableDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.Type=null},Zl:function(S){var R="";console.log("not implemented: TVariableDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Cl={$ClassName:"TUnionType",$Parent:X3,$Init:function($){X3.$Init($);$.Types=[]},Zl:function(S){var R="";var wk=0;R="Variant {";var $t6;for(wk=0,$t6=(S.Types.length-1);wk<$t6;wk++){R+=KA.Zl$(S.Types[wk])+" or "}
R+=KA.Zl$(S.Types[(S.Types.length-1)])+"}";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Wn={$ClassName:"TTypeReference",$Parent:KA,$Init:function($){KA.$Init($);$.Name="";$.Arguments=[]},Zl:function(S){var R="";var wt=0;R="J"+S.Name;if(S.Arguments.length>0){R+=" {"+KA.Zl$(S.Arguments[0]);var $t7;for(wt=0+1,$t7=S.Arguments.length;wt<$t7;wt++){R+=", "+KA.Zl$(S.Arguments[wt])}
R+="} "}
return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Ex={$ClassName:"TTypeParameter",$Parent:KA,$Init:function($){KA.$Init($);$.Name="";$.ExtendsType=null},Zl:function(S){var R="";console.log("not implemented: TTypeParameter.GetAsCode");return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Kz={$ClassName:"TTypeOfType",$Parent:Ej,$Init:function($){Ej.$Init($);$.Type=null},Ub:function(S){var R="";R="type of";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ej.Zl,Ub$:function($){return $.ClassType.Ub($)}};var uD={$ClassName:"TTypeArgument",$Parent:KA,$Init:function($){KA.$Init($);$.Name="";$.Type=null},Zl:function(S){var R="";console.log("not implemented: TTypeArgument.GetAsCode");return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var wG={$ClassName:"TTypeAlias",$Parent:sD,$Init:function($){sD.$Init($);$.Type=null},Zl:function(S){var R="";console.log("not implemented: TTypeAlias.GetAsCode");return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var cI={$ClassName:"TStringType",$Parent:Ee,$Init:function($){Ee.$Init($)},Ub:function(S){var R="";R="String";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ee.Zl,Ub$:function($){return $.ClassType.Ub($)}};var Sp={$ClassName:"TParameter",$Parent:sD,$Init:function($){sD.$Init($);$.DefaultValue="";$.IsRest=$.IsOptional=false;$.Type=null;$.AccessibilityModifier=0},Zl:function(S){var R="";R=S.Name+": "+KA.Zl$(S.Type);if(S.DefaultValue!="")R+=" = "+S.DefaultValue;return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var KY={$ClassName:"TObjectType",$Parent:X3,$Init:function($){X3.$Init($);$.Members=[]},Zl:function(S){var R="";var Oz=0;var ma=null;var EG=[];KA.lN(S.ClassType);EG=S.Members;var $t8;for(Oz=0,$t8=EG.length;Oz<$t8;Oz++){ma=EG[Oz];R+=KA.Zl$(ma)}
KA.bb(S.ClassType);R+=KA.of(S.ClassType)+"end;";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var b4={$ClassName:"TNamespaceDeclaration",$Parent:sD,$Init:function($){sD.$Init($)},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:KA.Zl};var Yc={$ClassName:"TNamedType",$Parent:Ej,$Init:function($){Ej.$Init($);$.Yu="";$.Arguments=[]},Ub:function(S){var R="";R=S.Yu;return R},id:function(S,tp,N2){KA.QQ(S,tp);S.Yu=N2;return S},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ej.Zl,Ub$:function($){return $.ClassType.Ub($)}};var tx={$ClassName:"TModuleDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.Modules=[];$.Variables=[];$.Exports=[];$.Functions=[];$.Interfaces=[];$.Classes=[]},Zl:function(S){var R="";var RI=0;var mv=null,vl=0;var cQ=null,Bv=0;var W6=null;if(S.Classes.length+S.Interfaces.length>0){var jF=[],cD=[];R+="type"+"\r\n";KA.lN(S.ClassType);cD=S.Classes;var $t9;for(RI=0,$t9=cD.length;RI<$t9;RI++){mv=cD[RI];R=R+KA.Zl$(mv)}
jF=S.Interfaces;var $tA;for(vl=0,$tA=jF.length;vl<$tA;vl++){cQ=jF[vl];R=R+KA.Zl$(cQ)}
KA.bb(S.ClassType)}
if(S.Variables.length>0){var lp=[];R+="var"+"\r\n";KA.lN(S.ClassType);lp=S.Variables;var $tB;for(Bv=0,$tB=lp.length;Bv<$tB;Bv++){W6=lp[Bv];R=R+KA.Zl$(W6)}
KA.bb(S.ClassType)}
return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var vK={$ClassName:"TCustomTypeMember",$Parent:sD,$Init:function($){sD.$Init($);$.Visibility=0;$.IsStatic=false},QQ:function(S,xD){KA.QQ(S,xD);S.Visibility=0;return S},Destroy:TObject.Destroy,QQ$:function($){return $.ClassType.QQ.apply($.ClassType,arguments)},Zl:KA.Zl};var pl={$ClassName:"TMethodDeclaration",$Parent:vK,$Init:function($){vK.$Init($);$.Type=null},Zl:function(S){var R="";R=KA.of(S.ClassType)+"function "+S.Name;if(S.Type)R+=KA.Zl$(S.Type);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,QQ:vK.QQ,Zl$:function($){return $.ClassType.Zl($)}};var lJ={$ClassName:"TInterfaceDeclaration",$Parent:KA,$Init:function($){KA.$Init($);$.Name="";$.Extends=[];$.Type=null},Zl:function(S){var R="";var uW=0;R+=KA.of(S.ClassType)+"J"+S.Name+" = class external";if(S.Extends.length>0){R+="(";R+=KA.Zl$(S.Extends[0]);var $tC;for(uW=0+1,$tC=S.Extends.length;uW<$tC;uW++){R+=", "+KA.Zl$(S.Extends[uW])}
R+=")"}
R+="\r\n";R+=KA.Zl$(S.Type);R+="\r\n"+"\r\n";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var JO={$ClassName:"TIndexDeclaration",$Parent:vK,$Init:function($){vK.$Init($);$.IsStringIndex=false;$.Type=null},Zl:function(S){var R="";R=KA.of(S.ClassType)+"\/\/ ";R+="property Item["+S.Name+": ";R+=(S.IsStringIndex)?"String":"Integer";R+="]: "+KA.Zl$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,QQ:vK.QQ,Zl$:function($){return $.ClassType.Zl($)}};var oi={$ClassName:"TImportDeclaration",$Parent:sD,$Init:function($){sD.$Init($)},Zl:function(S){var R="";console.log("not implemented: TImportDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var uH={$ClassName:"TFunctionType",$Parent:Ej,$Init:function($){Ej.$Init($);$.ResultType=null;$.Parameters=[]},Zl:function(S){var R="";var nK=0;if(S.Parameters.length>0){R="("+KA.Zl$(S.Parameters[0]);var $tD;for(nK=0+1,$tD=S.Parameters.length;nK<$tD;nK++){R+="; "+KA.Zl$(S.Parameters[nK])}
R+=")"}
if(S.ResultType)R+=": "+KA.Zl$(S.ResultType);return R},Ub:function(S){var R="";R="function";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)},Ub$:function($){return $.ClassType.Ub($)}};var tb={$ClassName:"TFunctionParameter",$Parent:sD,$Init:function($){sD.$Init($);$.Type=null;$.Nullable=false},Zl:function(S){var R="";R=Dt(S.Name)+": ";if(S.Type){R+=KA.Zl$(S.Type)}else R+="Variant";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var fG={$ClassName:"TFunctionDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.Type=null},Zl:function(S){var R="";R=KA.Zl$(S.Type);return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var S1={$ClassName:"TFloatType",$Parent:Ee,$Init:function($){Ee.$Init($)},Ub:function(S){var R="";R="Float";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ee.Zl,Ub$:function($){return $.ClassType.Ub($)}};var A2={$ClassName:"TFieldDeclaration",$Parent:vK,$Init:function($){vK.$Init($);$.Nullable=false;$.Type=null},Zl:function(S){var R="";R=KA.of(S.ClassType)+Dt(S.Name)+": "+KA.Zl$(S.Type)+";";if(S.Nullable)R+=" \/\/ nullable";R+="\r\n";return R},Destroy:TObject.Destroy,QQ:vK.QQ,Zl$:function($){return $.ClassType.Zl($)}};var iZ={$ClassName:"TExportDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.Vz=false},Zl:function(S){var R="";R="";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Gf={$ClassName:"TEnumerationItem",$Parent:KA,$Init:function($){KA.$Init($);$.Name=$.Value=""},Zl:function(S){var R="";R=S.Name;return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var MP={$ClassName:"TEnumerationDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.Items=[]},Zl:function(S){var R="";var EV=0;var hq=null;var ym=[];R+=KA.of(S.ClassType)+"T"+S.Name+" = Variant;"+"\r\n";R+=KA.of(S.ClassType)+"T"+S.Name+"Helper = strict helper for T"+S.Name+"\r\n";KA.lN(S.ClassType);ym=S.Items;var $tE;for(EV=0,$tE=ym.length;EV<$tE;EV++){hq=ym[EV];R+=KA.of(S.ClassType)+"const "+Dt(KA.Zl$(hq));if(hq.Value!=""){try{R+=" = "+(parseInt(hq.Value,10)).toString()+";"+"\r\n"}catch($e){R+=" = '"+hq.Value+"';"+"\r\n"}}else R+=" = '"+hq.Name+"';"+"\r\n"}
KA.bb(S.ClassType);R+=KA.of(S.ClassType)+"end;"+"\r\n";R+="\r\n";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var NV={$ClassName:"TDefinitionDeclaration",$Parent:sD,$Init:function($){sD.$Init($)},Zl:function(S){var R="";console.log("not implemented: TDefinitionDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var bk={$ClassName:"TConstructorType",$Parent:Ej,$Init:function($){Ej.$Init($);$.ResultType=null;$.Parameters=[]},Zl:function(S){var R="";var nh=0;if(S.Parameters.length>0){R="("+KA.Zl$(S.Parameters[0]);var $tF;for(nh=0+1,$tF=S.Parameters.length;nh<$tF;nh++){R+="; "+KA.Zl$(S.Parameters[nh])}
R+=")"}
if(S.ResultType)R+=": "+KA.Zl$(S.ResultType);return R},Ub:function(S){var R="";R="constructor";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)},Ub$:function($){return $.ClassType.Ub($)}};var Rq={$ClassName:"TConstructorDeclaration",$Parent:vK,$Init:function($){vK.$Init($);$.TypeParameters="";$.ParameterList=[];$.Type=null},Zl:function(S){var R="";R=KA.of(S.ClassType)+"constructor Create";if(S.Type)R+=KA.Zl$(S.Type);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,QQ:vK.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Ru={$ClassName:"TClassDeclaration",$Parent:lJ,$Init:function($){lJ.$Init($);$.Implements=[];$.Members=[]},Zl:function(S){var R="";var sg=0;var u4=0;var Nh=null;var y6=[];R+=KA.of(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=KA.Zl$(S.Extends[0]);var $tG;for(sg=0+1,$tG=S.Extends.length;sg<$tG;sg++){R+=", "+KA.Zl$(S.Extends[sg])}
R+=")"}
R+="\r\n";KA.lN(S.ClassType);y6=S.Members;var $tH;for(u4=0,$tH=y6.length;u4<$tH;u4++){Nh=y6[u4];R+=KA.Zl$(Nh)}
KA.bb(S.ClassType);R+=KA.of(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var O1={$ClassName:"TCallSignature",$Parent:KA,$Init:function($){KA.$Init($);$.TypeParameters="";$.ParameterList=[];$.Type=null},Zl:function(S){var R="";var Hr=0;var Ma=null;var ww=[];R="(";ww=S.ParameterList;var $tI;for(Hr=0,$tI=ww.length;Hr<$tI;Hr++){Ma=ww[Hr];R+=KA.Zl$(Ma)}
R+=")";if(S.Type)R+=": "+KA.Zl$(S.Type);return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var KC={$ClassName:"TCallbackDeclaration",$Parent:vK,$Init:function($){vK.$Init($);$.Type=null},Zl:function(S){var R="";R=KA.of(S.ClassType)+"callback "+S.Name;if(S.Type)R+=KA.Zl$(S.Type);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,QQ:vK.QQ,Zl$:function($){return $.ClassType.Zl($)}};var ih={$ClassName:"TBooleanType",$Parent:Ee,$Init:function($){Ee.$Init($)},Ub:function(S){var R="";R="Boolean";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ee.Zl,Ub$:function($){return $.ClassType.Ub($)}};var kh={$ClassName:"TArrayType",$Parent:X3,$Init:function($){X3.$Init($);$.Type=null},Zl:function(S){var R="";R="array of "+KA.Zl$(S.Type);return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var US={$ClassName:"TAmbientVariableDeclaration",$Parent:KA,$Init:function($){KA.$Init($);$.IsConst=false;$.AmbientBindingList=[]},Zl:function(S){var R="";var ZG=0;var nc=null;var jQ=[];jQ=S.AmbientBindingList;var $tJ;for(ZG=0,$tJ=jQ.length;ZG<$tJ;ZG++){nc=jQ[ZG];R+=KA.of(S.ClassType)+KA.Zl$(nc)}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var WF={$ClassName:"TAmbientModuleDeclaration",$Parent:KA,$Init:function($){KA.$Init($);$.Interfaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.IdentifierPath="";$.Enums=[];$.Variables=[]},Zl:function(S){var R="";var sV=0,mw=0;var ra=null,Df=0;var UA=null,yq=0;var jB=null,js=0;var xe=null,O8=0;var Fv=null,Rx=0;var WG=null,Dl=0;var Mz=null,NJ=0;var CJ=null;var rG=[],bP=[];R="\/\/"+S.IdentifierPath+"\r\n"+"\r\n";sV=0;bP=S.Variables;var $tK;for(mw=0,$tK=bP.length;mw<$tK;mw++){ra=bP[mw];if(ra.IsConst)++sV}
if(sV>0){var wE=[];R+="const"+"\r\n";KA.lN(S.ClassType);wE=S.Variables;var $tL;for(Df=0,$tL=wE.length;Df<$tL;Df++){UA=wE[Df];if(UA.IsConst)R=R+KA.Zl$(UA)}
KA.bb(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var BU=[],Gc=[],nP=[];R+="type"+"\r\n";KA.lN(S.ClassType);nP=S.Enums;var $tM;for(yq=0,$tM=nP.length;yq<$tM;yq++){jB=nP[yq];R+=KA.Zl$(jB)}
Gc=S.Classes;var $tN;for(js=0,$tN=Gc.length;js<$tN;js++){xe=Gc[js];R+=KA.Zl$(xe)}
BU=S.Interfaces;var $tO;for(O8=0,$tO=BU.length;O8<$tO;O8++){Fv=BU[O8];R+=KA.Zl$(Fv)}
KA.bb(S.ClassType)}
rG=S.Modules;var $tP;for(Rx=0,$tP=rG.length;Rx<$tP;Rx++){WG=rG[Rx];R+=KA.Zl$(WG)}
if(S.Functions.length>0){var oO=[];oO=S.Functions;var $tQ;for(Dl=0,$tQ=oO.length;Dl<$tQ;Dl++){Mz=oO[Dl];R+=KA.Zl$(Mz)}
R+="\r\n"}
if(S.Variables.length-sV>0){var DG=[];R+="var"+"\r\n";KA.lN(S.ClassType);DG=S.Variables;var $tR;for(NJ=0,$tR=DG.length;NJ<$tR;NJ++){CJ=DG[NJ];if(!CJ.IsConst)R=R+KA.Zl$(CJ)}
KA.bb(S.ClassType);R+="\r\n"}
return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var TZ={$ClassName:"TAmbientFunctionDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.CallSignature=null},Zl:function(S){var R="";R=(S.CallSignature.Type)?"function":"procedure";R+=" "+S.Name+KA.Zl$(S.CallSignature);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var nv={$ClassName:"TAmbientDeclaration",$Parent:sD,$Init:function($){sD.$Init($);$.Variables=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.Enums=[]},Zl:function(S){var R="";var YT=0;var lQ=null,uw=0;var jR=null,Qk=0;var hi=null,eA=0;var bi=null;var QW=[],VA=[],uT=[];uT=S.Functions;var $tS;for(YT=0,$tS=uT.length;YT<$tS;YT++){lQ=uT[YT];R+=KA.Zl$(lQ)}
VA=S.Modules;var $tT;for(uw=0,$tT=VA.length;uw<$tT;uw++){jR=VA[uw];R+=KA.Zl$(jR)}
if(S.Classes.length>0){var jL=[];R+="type"+"\r\n";KA.lN(S.ClassType);jL=S.Classes;var $tU;for(Qk=0,$tU=jL.length;Qk<$tU;Qk++){hi=jL[Qk];R=R+KA.Zl$(hi)}
KA.bb(S.ClassType)}
if(S.Variables.length>0){QW=S.Variables;var $tV;for(eA=0,$tV=QW.length;eA<$tV;eA++){bi=QW[eA];R=R+KA.Zl$(bi)}}
return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var Cu={$ClassName:"TAmbientClassDeclaration",$Parent:Ru,$Init:function($){Ru.$Init($)},Destroy:TObject.Destroy,QQ:KA.QQ,Zl:Ru.Zl};var mE={$ClassName:"TAmbientBinding",$Parent:sD,$Init:function($){sD.$Init($);$.Type=null},Zl:function(S){var R="";R=S.Name+": "+KA.Zl$(S.Type);return R},Destroy:TObject.Destroy,QQ:KA.QQ,Zl$:function($){return $.ClassType.Zl($)}};var PL=["amPublic","amPrivate","amProtected"];function Dt(YL){var R="";R=YL;if((["type","export","label","public","protected","private","abstract","default","const","constructor","property","function","class","interface","string"].indexOf((YL).toLowerCase())>=0))R="&"+R;return R};var j4=null;var j4=require("typescript");var Xd=0;var H=[],VH="",Ut="",jt=null;var jt=Pn();H=process.argv;H.splice(0,2);if(H.length==0){return"Usage: ts2pas inputfile [outputfile]"}
VH=H[0];Ut=H[0]+".pas";if(H.length==2)Ut=H[1];lg(VH,Ut);