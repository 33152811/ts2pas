#! /usr/bin/env node
/**
* ts2pas
* https://github.com/CWBudde/TS2Pas
*
* Copyright (c) 2016 Christian-W. Budde
* Licensed under the MIT license.
*/


var TObject={$ClassName:"TObject",$Parent:null,ClassName:function(s){return s.$ClassName},ClassType:function(s){return s},ClassParent:function(s){return s.$Parent},$Init:function(){},Create:function(s){return s},Destroy:function(s){for(var prop in s)if(s.hasOwnProperty(prop))delete s.prop},Destroy$:function(s){return s.ClassType.Destroy(s)},Free:function(s){if(s!==null)s.ClassType.Destroy(s)}}
function StrReplace(s,o,n){return o?s.replace(new RegExp(StrRegExp(o),"g"),n):s}
function StrRegExp(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}
function StrBefore(s,d){if(!d)return s;var p=s.indexOf(d);return(p<0)?s:s.substr(0,p)}
function StrAfter(s,d){if(!d)return"";var p=s.indexOf(d);return(p<0)?"":s.substr(p+d.length)}
var Exception={$ClassName:"Exception",$Parent:TObject,$Init:function(){var FMessage=""},Create:function(s,Msg){s.FMessage=Msg;return s}}
function stringRepeat(s,n){if(n<1)return'';var r='';while(n>0){if(n&1)r+=s;n>>=1,s+=s};return r};function DupeString(s,n){return stringRepeat(s,n)}
function $W(e){return e.ClassType?e:Exception.Create($New(Exception),e.constructor.name+", "+e.message)}
function $StrSet(s,i,v,z){if(i<1)throw Exception.Create($New(Exception),"Lower bound exceeded! Index "+i.toString()+z);if(i>s.length)throw Exception.Create($New(Exception),"Upper bound exceeded! Index "+i.toString()+z);return s.substring(0,i-1)+v+s.substring(i)}
function $New(c){var i={ClassType:c};c.$Init(i);return i}
function $Is(o,c){if(o===null)return false;return $Inh(o.ClassType,c)};function $Inh(s,c){if(s===null)return false;while((s)&&(s!==c))s=s.$Parent;return(s)?true:false};function $Extend(base,sub,props){function F(){};F.prototype=base.prototype;sub.prototype=new F();sub.prototype.constructor=sub;for(var n in props){if(props.hasOwnProperty(n)){sub.prototype[n]=props[n]}}}
function $AsIntf(o,i){if(o===null)return null;var r=o.ClassType.$Intf[i].map(function(e){return function(){var arg=Array.prototype.slice.call(arguments);arg.splice(0,0,o);return e.apply(o,arg)}});r.O=o;return r};function $As(o,c){if((o===null)||$Is(o,c))return o;throw Exception.Create($New(Exception),"Cannot cast instance of type \""+o.ClassType.$ClassName+"\" to class \""+c.$ClassName+"\"")}
function JError(){}
$Extend(Object,JError,{});function Sq(k7,b7){var bG="";bG=StrBefore(k7,".d.ts");if(k7==bG)k7+=".d.ts";qW.readFile(k7,function(IY,Eo){var mY="",s3=null,LY="";if(!Eo)return;mY=Eo.toString("utf8");s3=O1.Hs($New(O1));s3.Name=bG;LY=O1.TA(s3,mY);qW.writeFile(b7,LY,function(Xu){});s3=null})};function sX(Rw){Sq(Rw,StrBefore(Rw,".d.ts")+".pas")};function tn(){var YZ=function(){for(var r=[],i=0;i<42;i++)r.push("");return r}(),TT=0;var gs="";YZ=["abs\/abs.d.ts","absolute\/absolute.d.ts","accounting\/accounting.d.ts","acc-wizard\/acc-wizard.d.ts","amazon-product-api\/amazon-product-api.d.ts","amcharts\/AmCharts.d.ts","amplifyjs\/amplifyjs.d.ts","box2d\/box2dweb.d.ts","browserify\/browserify.d.ts","d3\/d3.d.ts","devextreme\/devextreme.d.ts","dojo\/dijit.d.ts","dojo\/dojo.d.ts","easeljs\/easeljs.d.ts","ember\/ember.d.ts","express\/express.d.ts","fabricjs\/fabricjs.d.ts","gruntjs\/gruntjs.d.ts","hapi\/hapi.d.ts","jquery\/jquery.d.ts","jquerymobile\/jquerymobile.d.ts","kendo-ui\/kendo-ui.d.ts","leapmotionTS\/LeapMotionTS.d.ts","linq\/linq.d.ts","matter-js\/matter-js.d.ts","office-js\/office-js.d.ts","openlayers\/openlayers.d.ts","phantom\/phantom.d.ts","phantomjs\/phantomjs.d.ts","phonegap\/phonegap.d.ts","plottable\/plottable.d.ts","preloadjs\/preloadjs.d.ts","socket.io\/socket.io.d.ts","soundjs\/soundjs.d.ts","titanium\/titanium.d.ts","tweenjs\/tweenjs.d.ts","typescript\/typescript.d.ts","ui-grid\/ui-grid.d.ts","webix\/webix.d.ts","winjs\/winjs.d.ts","winrt\/winrt.d.ts","youtube\/youtube.d.ts"];for(TT=0;TT<=41;TT++){gs=YZ[TT];gK("\/DefinitelyTyped\/DefinitelyTyped\/master\/"+gs)}};function lx(mJ){if(mJ==StrBefore(mJ,".d.ts"))mJ+=".d.ts";qW.readFile(mJ,function(KN,tb){var Lt="",fZ=null;Lt=tb.toString("utf8");fZ=x.createSourceFile(mJ,Lt,2,true);VA(fZ)})};function gK(V6){var gl=null,Wy=null,iu=null,CH=null;gl=Rf();Wy=new Object();Wy.hostname="raw.githubusercontent.com";Wy.path=V6;console.log("Fetching: "+V6);iu=O1.Hs($New(O1));CH=gl.get(Wy,function(we){var Wu="",Xz=[],lg="",qB="";Wu="";Xz=(V6).split("\/");lg=StrBefore(Xz[(Xz.length-1)],".d.ts");qB=lg+".pas";we.on("data",function(Wq){Wu+=String(Wq)});we.on("end",function(bP){var yF="";console.log("Translating: "+lg);iu.Name=lg;yF=O1.TA(iu,Wu);console.log("Writing: "+qB);qW.writeFile(qB,yF,function(My){})})});CH.on("error",function(cI){console.log("Error: ",cI)})};function VA(MV){lb(MV)};function lb(zN){var R=undefined;switch(zN.kind){case 9:console.log(zN.text);break;case 69:console.log(zN.text);break;case 151:console.log(zN.text);break;case 122:console.log("declare");break;case 135:console.log(zN.left);break;default:console.log(zN.kind)}
x.forEachChild(zN,lb);return R};function Copy$Sb(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$Sb($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$Mf(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$Mf($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$bN(s,d){d.persistent=s.persistent;return d}
function Clone$bN($){return{persistent:$.persistent}}
function Copy$HJ(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$HJ($){return{curr:$.curr,prev:$.prev}}
function Copy$ix(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$ix($){return{curr:$.curr,prev:$.prev}}
function Copy$a1(s,d){d.persistent=s.persistent;d.interval=s.interval;return d}
function Clone$a1($){return{persistent:$.persistent,interval:$.interval}}
function Copy$V4(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$V4($){return{encoding:$.encoding,flag:$.flag}}
function Copy$Bv(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$Bv($){return{encoding:$.encoding,flag:$.flag}}
function Copy$fI(s,d){d.flags=s.flags;d.encoding=s.encoding;d.string_=s.string_;return d}
function Clone$fI($){return{flags:$.flags,encoding:$.encoding,string_:$.string_}}
function Copy$PH(s,d){d.bufferSize=s.bufferSize;d.encoding=s.encoding;d.fd=s.fd;d.mode=s.mode;d.flags=s.flags;return d}
function Clone$PH($){return{bufferSize:$.bufferSize,encoding:$.encoding,fd:$.fd,mode:$.mode,flags:$.flags}}
function Copy$Ng(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$Ng($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$fn(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$fn($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function l9(){var R=null;R=require("fs");return R};function oq(){var R=null;R=require("stream");return R};function Xw(){var R=null;R=require("events");return R};function Rf(){var R=null;R=require("https");return R};var Qc={$ClassName:"TServer_address_result_object_tls",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};var nM={$ClassName:"TServer_addContext_credentials_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.key=$.cert=$.ca=""},Destroy:TObject.Destroy};function qc(){var R=null;R=require("tls");return R};var tX={$ClassName:"TClearTextStream_getCipher_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.name=$.version=""},Destroy:TObject.Destroy};var UR={$ClassName:"TClearTextStream_address_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};function ss(){var R=null;R=require("crypto");return R};function Copy$eR(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$eR($){return{allowHalfOpen:$.allowHalfOpen}}
function Copy$JV(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$JV($){return{allowHalfOpen:$.allowHalfOpen}}
function Copy$hV(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$hV($){return{allowHalfOpen:$.allowHalfOpen}}
function em(){var R=null;R=require("net");return R};function Copy$P8(s,d){d.fd=s.fd;d.type=s.type;d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$P8($){return{fd:$.fd,type:$.type,allowHalfOpen:$.allowHalfOpen}}
var ik={$ClassName:"JServerAddressResult",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};function SU(){var R=null;R=require("http");return R};var gB=["Warning","Error","Message"];function Copy$n(s,d){d.i=s.i;d.U=s.U;return d}
function Clone$n($){return{i:$.i,U:$.U}}
var O1={$ClassName:"TTranslator",$Parent:TObject,$Init:function($){TObject.$Init($);$.NeedsSemicolon=false;$.Name="";$.gn=[];$.pf=[];$.zr=[];$.ra=[];$.ON=$.ba=null},CF:function(S){return S.ON.getTokenText()},V2:function(S){return S.ON.getToken()},oV:function(S,ys){if(!(S.ON.isIdentifier()||ys.indexOf(O1.V2(S))>=0))O1.Jp(S,0)},i9:function(S,nn){if(!(nn.indexOf(O1.V2(S))>=0))O1.Jp(S,0)},Vn:function(S,F5){if(O1.V2(S)!=F5)O1.Jp(S,F5)},EN:function(S){var R="";var Ux=0;var ym=null,cP=0;var vS=null,lR=0;var i2=null,eb=0;var ay=null;var vp=[],Ll=[],Tm=[];R="unit "+Wz(S.Name)+";"+"\r\n"+"\r\n";R+="interface"+"\r\n"+"\r\n";Tm=S.pf;var $t1;for(Ux=0,$t1=Tm.length;Ux<$t1;Ux++){ym=Tm[Ux];R=R+Fx.MZ$(ym)}
Ll=S.ra;var $t2;for(cP=0,$t2=Ll.length;cP<$t2;cP++){vS=Ll[cP];R=R+Fx.MZ$(vS)}
if(S.zr.length>0){var cT=[];R+="type"+"\r\n";Fx.EO(Fx);cT=S.zr;var $t3;for(lR=0,$t3=cT.length;lR<$t3;lR++){i2=cT[lR];R=R+Fx.MZ$(i2)}
Fx.l5(Fx)}
vp=S.gn;var $t4;for(eb=0,$t4=vp.length;eb<$t4;eb++){ay=vp[eb];R=R+Fx.MZ$(ay)}
return R},Hs:function(S){S.NeedsSemicolon=false;return S},Jp:function(S,ZI){var iU=null,uZ="";iU=x.getLineAndCharacterOfPosition(S.ba,S.ON.getTokenPos());uZ=("Unknown token \""+O1.CF(S).toString()+"\" in this context ("+(iU.line+1).toString()+":"+(iU.character+1).toString()+")");if(ZI>0)uZ+=("; Expected ("+ZI.toString()+")");console.trace("");throw Exception.Create($New(Exception),uZ)},AG:function(S){var R=null;O1.oV(S,[]);R=Fx.jv$($New(Az),$AsIntf(S,"Kb"));R.Name=O1.CF(S);if(O1.sP(S,54,false))R.Type=O1.jD(S);if(S.NeedsSemicolon)O1.i9(S,[23,24].slice());return R},nZ:function(S,RP){do{RP.push(O1.AG(S));if(O1.V2(S)==23)break;if(O1.V2(S)!=24)break;if(!O1.ax(S,false))break}while(!(O1.V2(S)==23||(!S.ON.isIdentifier())||(!S.NeedsSemicolon)&&(!S.ON.isIdentifier())))},lw:function(S){var R=null;var Gt=0,dw=false;O1.oV(S,[121,110,111,112,113].slice());if(O1.V2(S)==121)return O1.Qj(S);Gt=0;switch(O1.V2(S)){case 112:Gt=0;O1.Dh(S,[113].slice(),true);break;case 111:Gt=1;O1.Dh(S,[113].slice(),true);break;case 110:Gt=2;O1.Dh(S,[113].slice(),true);break}
dw=O1.V2(S)==113;if(dw)O1.ax(S,true);R=O1.qU(S);$As(R,Zn).IsStatic=dw;$As(R,Zn).Visibility=Gt;if(S.NeedsSemicolon)O1.i9(S,[23,16].slice());return R},u1:function(S){var R=null;var Sg=[],Sg=[121,110,111,112,113,16,23].slice();O1.Vn(S,73);R=Fx.jv$($New(Gp),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,[83,106,15,25].slice(),true);if(O1.V2(S)==83){O1.ax(S,true);R.Extends.push(O1.kD(S))}
if(O1.V2(S)==106){O1.ax(S,true);R.Implements.push(O1.xb(S));while(O1.V2(S)==24){O1.ax(S,true);R.Implements.push(O1.xb(S))}}
if(O1.V2(S)==25){do{O1.BI(S)}while(!(O1.V2(S)!=24));O1.Mv(S,[15].slice(),true)}
O1.Vn(S,15);O1.Dh(S,Sg,false);while(O1.V2(S)!=16){R.Members.push(O1.lw(S));if(O1.V2(S)==23)O1.Dh(S,Sg,false)}
O1.Vn(S,16);return R},Qj:function(S){var R=null;O1.Vn(S,121);O1.sP(S,17,true);R=Fx.jv$($New(la),$AsIntf(S,"Kb"));while(O1.ax(S,false)){R.ParameterList.push(O1.JQ(S));O1.i9(S,[24,18,23].slice());if(O1.V2(S)==18)break}
O1.i9(S,[18,23].slice());if(O1.V2(S)!=23)O1.sP(S,23,true);return R},Th:function(S){var R=null;O1.Vn(S,122);R=Fx.jv$($New(yU),$AsIntf(S,"Kb"));O1.Mv(S,[102,108,74,87,73,81,125,126].slice(),true);switch(O1.V2(S)){case 102:case 108:case 74:R.Variables.push(O1.PU(S));break;case 87:R.Functions.push(O1.Bb(S));break;case 73:R.Classes.push(O1.u1(S));break;case 81:R.Enums.push(O1.fr(S));break;case 125:R.Modules.push(O1.EA(S));break;case 126:R.Namespaces.push(O1.bI(S));break}
return R},fr:function(S){var R=null;R=O1.UB(S);return R},Bb:function(S){var R=null;O1.Vn(S,87);R=Fx.jv$($New(bu),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,[17,25].slice(),true);R.CallSignature=O1.Tg(S);if(S.NeedsSemicolon)O1.i9(S,[23].slice());return R},EA:function(S){var R=null;var Kk=[],Kk=[82,102,108,74,132,87,73,107,81,125,126,89,16,23].slice();var gr=false,Uf=null;O1.Vn(S,125);R=Fx.jv$($New(hZ),$AsIntf(S,"Kb"));O1.Dh(S,[9].slice(),true);R.IdentifierPath=O1.xb(S);O1.Vn(S,15);O1.Mv(S,Kk,true);while(O1.V2(S)!=16){gr=O1.V2(S)==82;if(gr){O1.Mv(S,Kk.concat([77,56]),true);if(O1.V2(S)==77){gr=false;O1.ax(S,false);O1.sP(S,23,false);O1.Mv(S,Kk,true)}
if(O1.V2(S)==56){gr=false;O1.ax(S,false);O1.sP(S,23,false);O1.Mv(S,Kk,true)}}
switch(O1.V2(S)){case 102:case 108:R.Variables.push(O1.PU(S));break;case 74:O1.Dh(S,[81].slice(),false);if(O1.V2(S)==81){R.Enums.push(O1.fr(S))}else{Uf=Fx.jv$($New(TU),$AsIntf(S,"Kb"));Uf.IsConst=true;O1.nZ(S,Uf.AmbientBindingList);R.Variables.push(Uf)}
O1.Mv(S,Kk,true);break;case 132:R.TypeAliases.push(O1.w6(S));O1.Mv(S,Kk,true);break;case 87:R.Functions.push(O1.Bb(S));break;case 126:R.Namespaces.push(O1.tq(S));break;case 73:R.Classes.push(O1.eX(S));O1.Mv(S,Kk,true);break;case 125:R.Modules.push(O1.EA(S));O1.Mv(S,Kk,true);break;case 107:R.Interfaces.push(O1.zk(S));O1.Mv(S,Kk,true);break;case 89:O1.AT(S);if(!S.NeedsSemicolon)O1.Mv(S,Kk,true);break;case 81:O1.UB(S);O1.Mv(S,Kk,true);break}
if(O1.V2(S)==23)O1.Mv(S,Kk,true)}
O1.Vn(S,16);return R},bI:function(S){var R=null;var D8=[],D8=[73,122,82,81,89,87,107,23,16].slice();var GUt=false;O1.Vn(S,126);O1.Dh(S,[9].slice(),true);R=Fx.jv$($New(Yn),$AsIntf(S,"Kb"));R.Name=O1.xb(S);O1.Vn(S,15);O1.Mv(S,D8,true);while(O1.V2(S)!=16){GUt=O1.V2(S)==82;if(GUt)O1.Mv(S,D8,true);switch(O1.V2(S)){case 73:R.Classes.push(O1.u1(S));break;case 81:O1.UB(S);break;case 87:R.Functions.push(O1.Bb(S));break;case 89:O1.AT(S);break;case 107:R.Interfaces.push(O1.zk(S));break;case 102:R.Variables.push(O1.PU(S));break}
O1.Mv(S,D8,true)}
O1.Vn(S,16);return R},qU:function(S){var R=null;var yB="";O1.oV(S,[]);yB=O1.CF(S);O1.Mv(S,[54,17,23].slice(),true);if(O1.V2(S)==17){R=O1.BK(S)}else R=O1.gI(S);R.Name=yB;if(S.NeedsSemicolon)O1.oV(S,[23,16,24].slice());return R},BK:function(S){var R=null;O1.Vn(S,17);R=Fx.jv$($New(FL),$AsIntf(S,"Kb"));R.CallSignature=O1.Tg(S);O1.i9(S,[18,23].slice());if(O1.V2(S)!=23)O1.sP(S,23,true);return R},gI:function(S){var R=null;R=Fx.jv$($New(dI),$AsIntf(S,"Kb"));if(O1.V2(S)==54)R.Type=O1.Jg(S);return R},PU:function(S){var R=null;O1.i9(S,[102,108,74].slice());R=Fx.jv$($New(TU),$AsIntf(S,"Kb"));R.IsConst=O1.V2(S)==74;O1.ax(S,true);O1.nZ(S,R.AmbientBindingList);return R},Tg:function(S){var R=null;O1.i9(S,[17,25].slice());R=Fx.jv$($New(dN),$AsIntf(S,"Kb"));if(O1.V2(S)==25){do{R.TypeParameters.push(O1.BI(S))}while(!(O1.V2(S)!=24));O1.sP(S,17,true)}
O1.Vn(S,17);O1.Dh(S,[112,110,111,22,18].slice(),true);while(O1.V2(S)!=18){R.ParameterList.push(O1.Xf(S));if(O1.V2(S)==24)O1.Dh(S,[22].slice(),false)}
O1.i9(S,[18].slice());O1.Mv(S,[54,23].slice(),true);if(O1.V2(S)==54)R.Type=O1.Jg(S);return R},eX:function(S){var R=null;var r1=[],r1=[83,106,15,25].slice();O1.Vn(S,73);R=Fx.jv$($New(I1),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,r1,true);if(O1.V2(S)==25){r1.push(25);do{R.TypeParameters.push(O1.BI(S))}while(!(O1.V2(S)!=24));O1.Vn(S,27);O1.Mv(S,r1,true)}
if(O1.V2(S)==83){O1.ax(S,true);R.Extends.push(O1.kD(S))}
if(O1.V2(S)==106){O1.ax(S,true);R.Implements.push(O1.kD(S));while(O1.V2(S)==24){O1.ax(S,true);R.Implements.push(O1.kD(S))}}
O1.Vn(S,15);O1.xR(S,R);return R},G4:function(S){var R=null;var EE=[],fA=[],fA=[72,75,76,77,78,82,85,88,105].slice();var QL="",HM=false;O1.oV(S,[92,9,19].concat(fA));if(O1.V2(S)==19)return O1.M3(S);QL=O1.CF(S);O1.Mv(S,[25,53,54,17,23].slice(),true);if(O1.V2(S)==25){do{EE.push(O1.BI(S))}while(!(O1.V2(S)!=24));O1.Mv(S,[53,54,17,23].slice(),true)}
HM=O1.V2(S)==53;if(HM)O1.Mv(S,[54,23].slice(),true);switch(O1.V2(S)){case 54:case 23:R=O1.Vj(S);$As(R,tR).Nullable=HM;break;case 17:if((QL).toLowerCase()=="constructor"){R=O1.kE(S)}else R=O1.Wr(S);break}
R.Name=QL;R.TypeParameters=EE;if(S.NeedsSemicolon)O1.i9(S,[23,24,16].slice());return R},xR:function(S,SH){var SK=[],SK=[92,9,82,16,23,19].slice();var CP=0,lC=false,vh=null;O1.Vn(S,15);O1.Dh(S,SK,false);while(O1.V2(S)!=16){CP=0;switch(O1.V2(S)){case 112:CP=0;O1.Dh(S,[92].slice(),true);break;case 111:CP=1;O1.Dh(S,[92].slice(),true);break;case 110:CP=2;O1.Dh(S,[92].slice(),true);break}
lC=O1.V2(S)==113;if(lC)O1.Dh(S,[92,17].slice(),true);vh=O1.G4(S);vh.Visibility=CP;vh.IsStatic=lC;SH.Members.push(vh);if(O1.V2(S)==23)O1.Dh(S,SK,false)}},kE:function(S){var R=null;R=Fx.jv$($New(mo),$AsIntf(S,"Kb"));R.Type=O1.Ez(S);if(S.NeedsSemicolon)O1.i9(S,[23,16].slice());return R},Xh:function(S){var R=null;O1.Vn(S,92);R=Fx.jv$($New(mo),$AsIntf(S,"Kb"));O1.Mv(S,[17,25].slice(),true);if(O1.V2(S)==25){do{R.TypeParameters.push(O1.BI(S))}while(!(O1.V2(S)!=24));O1.Mv(S,[17].slice(),true)}
O1.Vn(S,17);O1.Dh(S,[112,110,111,22,18].slice(),true);while(O1.V2(S)!=18){R.ParameterList.push(O1.Xf(S));if(O1.V2(S)==24)O1.Dh(S,[22].slice(),false)}
O1.Vn(S,18);O1.sP(S,54,true);R.Type=O1.jD(S);return R},KS:function(S){var R=null;O1.Vn(S,92);R=Fx.jv$($New(sC),$AsIntf(S,"Kb"));O1.sP(S,17,true);while(O1.Dh(S,[22].slice(),false)){R.ParameterList.push(O1.JQ(S));O1.i9(S,[24,18,23].slice());if(O1.V2(S)==18)break}
O1.i9(S,[18,23].slice());if(O1.Mv(S,[54,34].slice(),false))R.ResultType=O1.Jg(S);return R},Nb:function(S){var OT=[],OT=[82,122,107,125,89,1].slice();O1.Mv(S,OT,true);while(O1.V2(S)!=1){switch(O1.V2(S)){case 82:O1.Mv(S,OT,true);continue;break;case 122:S.gn.push(O1.Th(S));break;case 107:S.zr.push(O1.zk(S));break;case 125:S.ra.push(O1.jA(S));break;case 89:S.pf.push(O1.AT(S));break}
if(([16,23].indexOf(O1.V2(S))>=0))O1.Mv(S,OT,true)}},UB:function(S){var R=null;var Fl=[],Fl=[81,77,78,89,96].slice();O1.Vn(S,81);R=Fx.jv$($New(um),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.sP(S,15,true);O1.Dh(S,[16].concat(Fl),true);if(O1.V2(S)!=16){do{R.Items.push(O1.Pk(S));if(O1.V2(S)==16)break}while(!(!O1.Dh(S,Fl,false)))}
O1.Vn(S,16);return R},Pk:function(S){var R=null;var Jb=[],Jb=[81,77,78,89,96].slice();O1.oV(S,Jb);R=Fx.jv$($New(ZE),$AsIntf(S,"Kb"));R.Name=O1.CF(S);if(O1.sP(S,56,false)){O1.sP(S,8,true);R.Value=O1.CF(S);O1.H1(S)}
O1.i9(S,[24,16].slice());return R},ey:function(S){var R=null;O1.Vn(S,82);R=Fx.jv$($New(YG),$AsIntf(S,"Kb"));O1.Dh(S,[77].slice(),true);R.lQ=O1.V2(S)==82||(O1.CF(S)).toLowerCase()=="default";if(R.lQ)O1.ax(S,true);R.Name=O1.CF(S);O1.sP(S,23,true);return R},eg:function(S){var R=null;O1.Vn(S,87);R=Fx.jv$($New(Rp),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,[17].slice(),true);R.Type=O1.Ez(S);return R},JQ:function(S){var R=null;var ci=false;var RJ=[],RJ=[53,24,54,18].slice();O1.oV(S,[22].slice());ci=O1.V2(S)==22;if(ci)O1.ax(S,true);R=Fx.jv$($New(sw),$AsIntf(S,"Kb"));R.Name=O1.CF(S);O1.Mv(S,RJ,true);R.IsOptional=O1.V2(S)==53;RJ.push(53);if(R.IsOptional)O1.Mv(S,RJ,true);if(O1.V2(S)==54)R.Type=O1.Jg(S);return R},Ez:function(S){var R=null;O1.Vn(S,17);R=Fx.jv$($New(ru),$AsIntf(S,"Kb"));while(O1.Dh(S,[22].slice(),false)){R.ParameterList.push(O1.JQ(S));O1.i9(S,[24,18,23].slice());if(O1.V2(S)==18)break}
O1.i9(S,[18,23].slice());if(O1.Mv(S,[54,34].slice(),false))R.ResultType=O1.Jg(S);return R},Dh:function(S,Pj,Wn){var R=false;O1.H1(S);R=S.ON.isIdentifier()||Pj.indexOf(O1.V2(S))>=0;if((!R)&&Wn)O1.Jp(S,0);return R},ax:function(S,nl){var R=false;O1.H1(S);R=S.ON.isIdentifier();if((!R)&&nl)O1.Jp(S,69);return R},xb:function(S){var R="";O1.oV(S,[9,97].slice());R=O1.CF(S);while(O1.sP(S,21,false)){O1.ax(S,true);R+="."+O1.CF(S)}
return R},AT:function(S){var R=null;O1.Vn(S,89);R=Fx.jv$($New(ho),$AsIntf(S,"Kb"));O1.Dh(S,[37,9].slice(),true);switch(O1.V2(S)){case 37:R.Name="*";O1.sP(S,116,true);O1.ax(S,true);O1.sP(S,133,true);O1.sP(S,9,true);break;case 9:R.Name=S.ON.getTokenValue();break;default:R.Name=O1.CF(S);O1.sP(S,56,true);O1.Dh(S,[127].slice(),true);if(O1.V2(S)==127){O1.sP(S,17,false);O1.sP(S,9,false);O1.sP(S,18,false)}}
O1.sP(S,23,true);return R},M3:function(S){var R=null;O1.Vn(S,19);R=Fx.jv$($New(ZJ),$AsIntf(S,"Kb"));R.IndexSignature=O1.RY(S);if(S.NeedsSemicolon)O1.oV(S,[23,16,24].slice());return R},RY:function(S){var R=null;O1.Vn(S,19);R=Fx.jv$($New(ZO),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.sP(S,54,true);O1.Mv(S,[130,128].slice(),true);R.IsStringIndex=O1.V2(S)==130;O1.sP(S,20,true);O1.sP(S,54,true);R.Type=O1.jD(S);return R},zk:function(S){var R=null;O1.Vn(S,107);R=Fx.jv$($New(Fj),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,[25,83,15].slice(),true);if(O1.V2(S)==25){do{R.TypeParameters.push(O1.BI(S))}while(!(O1.V2(S)!=24));O1.Mv(S,[83,15].slice(),true)}
if(O1.V2(S)==83){O1.ax(S,true);R.Extends.push(O1.kD(S));while(O1.V2(S)==24){O1.ax(S,true);R.Extends.push(O1.kD(S))}}
O1.Vn(S,15);R.Type=O1.AH(S);O1.Vn(S,16);return R},Wr:function(S){var R=null;R=Fx.jv$($New(T3),$AsIntf(S,"Kb"));R.CallSignature=O1.Tg(S);if(S.NeedsSemicolon)O1.i9(S,[23,16].slice());return R},jA:function(S){var R=null;var us=[],us=[73,82,81,89,125,87,107,102,23,16].slice();O1.Vn(S,125);R=Fx.jv$($New(Lq),$AsIntf(S,"Kb"));O1.Dh(S,[9].slice(),true);R.Name=O1.xb(S);O1.Vn(S,15);O1.Mv(S,us,true);while(O1.V2(S)!=16){switch(O1.V2(S)){case 73:R.Classes.push(O1.eX(S));break;case 82:R.Exports.push(O1.ey(S));break;case 81:O1.UB(S);break;case 87:R.Functions.push(O1.eg(S));break;case 89:O1.AT(S);break;case 125:R.Modules.push(O1.jA(S));break;case 107:R.Interfaces.push(O1.zk(S));break;case 102:R.Variables.push(O1.Iz(S));break}
O1.Mv(S,us,true)}
O1.Vn(S,16);return R},tq:function(S){var R=null;var x8=[],x8=[73,122,82,81,89,87,107,23,16].slice();O1.Vn(S,126);O1.Dh(S,[9].slice(),true);R=Fx.jv$($New(YJ),$AsIntf(S,"Kb"));R.Name=O1.xb(S);O1.Vn(S,15);O1.Mv(S,x8,true);while(O1.V2(S)!=16){switch(O1.V2(S)){case 73:R.Classes.push(O1.eX(S));break;case 81:O1.UB(S);break;case 87:R.Functions.push(O1.eg(S));break;case 89:O1.AT(S);break;case 107:R.Interfaces.push(O1.zk(S));break}
O1.Mv(S,x8,true)}
O1.Vn(S,16);return R},AH:function(S){var R=null;var jm=[],jm=[9,8,92,25,17,19,16].slice();var LF=[],LF=[72,73,75,77,78,82,85,86,89,90].slice();O1.Vn(S,15);R=Fx.jv$($New(XQ),$AsIntf(S,"Kb"));O1.Dh(S,jm.concat(LF),true);while(O1.V2(S)!=16){R.Members.push(O1.pP(S));if(([23,24].indexOf(O1.V2(S))>=0))O1.Dh(S,jm.concat(LF),true)}
O1.Vn(S,16);return R},Xf:function(S){var R=null;O1.oV(S,[112,110,111,22].slice());R=Fx.jv$($New(xv),$AsIntf(S,"Kb"));R.Name=O1.CF(S);R.IsRest=O1.V2(S)==22;if(R.IsRest){O1.ax(S,true);R.Name=O1.CF(S);if(O1.sP(S,54,false))R.Type=O1.jD(S);O1.Vn(S,18);return R}
O1.oV(S,[112,110,111].slice());switch(O1.V2(S)){case 112:R.AccessibilityModifier=0;O1.ax(S,false);break;case 110:R.AccessibilityModifier=1;O1.ax(S,false);break;case 111:R.AccessibilityModifier=2;O1.ax(S,false);break}
O1.oV(S,[]);O1.Mv(S,[53,54,56,24,18].slice(),true);R.IsOptional=O1.V2(S)==53;if(R.IsOptional)O1.Mv(S,[54,56,24,18].slice(),true);if(O1.V2(S)==54)R.Type=O1.Jg(S);O1.i9(S,[56,24,18].slice());if(O1.V2(S)==56){O1.ax(S,true);R.DefaultValue=O1.CF(S)}
O1.i9(S,[24,18].slice());return R},CU:function(S){var R=null;var LU=[],LU=[69,9,117,128,130,120,103,101,97,15,17,19].slice();var Qf=null;O1.i9(S,LU);switch(O1.V2(S)){case 17:R=O1.Jg(S);O1.Vn(S,18);O1.H1(S);break;case 69:case 97:R=Ph.Am($New(Ph),$AsIntf(S,"Kb"),O1.xb(S));if(O1.V2(S)==25){do{$As(R,Ph).Arguments.push(O1.Wc(S))}while(!(O1.V2(S)!=24));O1.Vn(S,27);O1.H1(S)}
break;case 9:R=Ph.Am($New(Ph),$AsIntf(S,"Kb"),S.ON.getTokenValue());O1.H1(S);break;case 117:R=Fx.jv$($New(Xy),$AsIntf(S,"Kb"));O1.H1(S);break;case 128:R=Fx.jv$($New(T1),$AsIntf(S,"Kb"));O1.H1(S);break;case 103:R=null;O1.H1(S);break;case 101:R=Fx.jv$($New(B1),$AsIntf(S,"Kb"));$As(R,B1).Type=O1.Jg(S);break;case 130:R=Fx.jv$($New(ui),$AsIntf(S,"Kb"));O1.H1(S);break;case 120:R=Fx.jv$($New(fy),$AsIntf(S,"Kb"));O1.H1(S);break;case 15:R=O1.AH(S);O1.H1(S);break;case 19:R=O1.GN(S);O1.H1(S);break}
while(O1.V2(S)==19){Qf=R;R=Fx.jv$($New(hI),$AsIntf(S,"Kb"));$As(R,hI).Type=Qf;O1.sP(S,20,true);O1.H1(S)}
return R},Vj:function(S){var R=null;O1.i9(S,[54,23].slice());R=Fx.jv$($New(tR),$AsIntf(S,"Kb"));if(O1.V2(S)==23)return R;R.Type=O1.Jg(S);if(S.NeedsSemicolon)O1.oV(S,[23,16,24].slice());return R},Mv:function(S,hj,qL){var R=false;R=hj.indexOf(O1.H1(S))>=0;if((!R)&&qL)O1.Jp(S,0);return R},sP:function(S,rD,i7){var R=false;R=O1.H1(S)==rD;if((!R)&&i7)O1.Jp(S,rD);return R},H1:function(S){var R=0;R=S.ON.scan();return R},GN:function(S){var R=null;O1.Vn(S,19);R=Fx.jv$($New(kW),$AsIntf(S,"Kb"));do{R.Types.push(O1.Jg(S))}while(!(O1.V2(S)==20));O1.Vn(S,20);return R},Jg:function(S){var R=null;var n6=[],n6=[69,9,117,128,130,120,103,101,97,92,15,17,19].slice();var Md=null;O1.Mv(S,n6,true);if(O1.V2(S)==17)return O1.Ez(S);if(O1.V2(S)==92)return O1.KS(S);R=O1.CU(S);while(O1.V2(S)==47){if(!$Is(R,DY)){Md=R;R=Fx.jv$($New(DY),$AsIntf(S,"Kb"));$As(R,DY).Types.push(Md)}
O1.Mv(S,n6,true);$As(R,DY).Types.push(O1.CU(S))}
return R},w6:function(S){var R=null;O1.Vn(S,132);R=Fx.jv$($New(ck),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,[25,56].slice(),true);if(O1.V2(S)==25){R.TypeParameters.push(O1.BI(S));O1.sP(S,56,true)}
R.Type=O1.Jg(S);O1.Vn(S,23);return R},jD:function(S){var R=null;O1.Vn(S,54);R=O1.Jg(S);return R},Wc:function(S){var R=null;O1.i9(S,[25,24].slice());R=Fx.jv$($New(fM),$AsIntf(S,"Kb"));R.Type=O1.Jg(S);O1.i9(S,[27,24].slice());return R},pP:function(S){var R=null;var j9=[],xB=[],xB=[9,8,110,92,25,17,19].slice();var Hm=[],Hm=[72,73,75,77,78,82,85,86,89,90].slice();var rQ="",ht=false;O1.oV(S,xB.concat(Hm));if(O1.V2(S)==92)return O1.Xh(S);if(([17,25].indexOf(O1.V2(S))>=0))return O1.Tg(S);if(O1.V2(S)==19)return O1.RY(S);if(S.ON.isIdentifier()||[9,8].concat(Hm).indexOf(S.ON.getToken())>=0){rQ=O1.CF(S);O1.Mv(S,[25,53,54,17].slice(),true);ht=O1.V2(S)==53;if(ht)O1.Mv(S,[54,17,25].slice(),true);switch(O1.V2(S)){case 54:R=O1.Vj(S);$As(R,tR).Nullable=ht;break;case 17:case 25:R=O1.Wr(S);break}
R.TypeArguments=j9;R.Name=rQ}
return R},BI:function(S){var R=null;O1.i9(S,[25,24].slice());R=Fx.jv$($New(VX),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.Mv(S,[83,27,24].slice(),true);if(O1.V2(S)==83){R.ExtendsType=O1.Jg(S);O1.i9(S,[27,24].slice())}
return R},kD:function(S){var R=null;O1.oV(S,[]);R=Fx.jv$($New(yh),$AsIntf(S,"Kb"));R.Name=O1.xb(S);if(O1.V2(S)==25){do{R.Arguments.push(O1.Wc(S))}while(!(O1.V2(S)!=24));O1.H1(S)}
return R},Iz:function(S){var R=null;O1.Vn(S,102);R=Fx.jv$($New(PQ),$AsIntf(S,"Kb"));O1.ax(S,true);R.Name=O1.CF(S);O1.sP(S,54,true);R.Type=O1.Jg(S);return R},TA:function(S,Kz){var R="";S.ON=x.createScanner(0,true,0,Kz);S.ba=x.createSourceFile("main",Kz,0);try{O1.Nb$(S)}catch($e){var O3=$W($e);console.error(O3.FMessage)}
R=O1.EN$(S);return R},Destroy:TObject.Destroy,EN$:function($){return $.ClassType.EN($)},Nb$:function($){return $.ClassType.Nb($)}};O1.$Intf={Kb:[]}
function Wz(rI){var R="";var Sh=[];if(rI.length==0)return"Unknown";Sh=(rI).split("\\");R=Sh[(Sh.length-1)];Sh=(rI).split("\/");R=Sh[(Sh.length-1)];R=StrReplace(R,"-","_");R=$StrSet(R,1,(R.charAt(0)).toUpperCase());return R};var Y4=["vPublic","vProtected","vPrivate"];var Fx={$ClassName:"TCustomDeclaration",$Parent:TObject,$Init:function($){TObject.$Init($);$.l2=null},EO:function(S){++BX},jv:function(S,zG){S.l2=zG;return S},l5:function(S){--BX},qa:function(S){var R="";R=DupeString("  ",BX);return R},Destroy:TObject.Destroy,jv$:function($){return $.ClassType.jv.apply($.ClassType,arguments)},MZ$:function($){return $.ClassType.MZ($)}};var Bl={$ClassName:"TCustomType",$Parent:Fx,$Init:function($){Fx.$Init($)},Destroy:TObject.Destroy,jv:Fx.jv,MZ:Fx.MZ};var Tk={$ClassName:"TCustomNamedType",$Parent:Bl,$Init:function($){Bl.$Init($)},MZ:function(S){var R="";R="J"+Tk.cc$(S);return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)},cc$:function($){return $.ClassType.cc($)}};var FE={$ClassName:"TPredefinedType",$Parent:Tk,$Init:function($){Tk.$Init($)},MZ:function(S){var R="";R=Tk.cc$(S);return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)},cc:Tk.cc};var Xy={$ClassName:"TVariantType",$Parent:FE,$Init:function($){FE.$Init($)},cc:function(S){var R="";R="Variant";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ:FE.MZ,cc$:function($){return $.ClassType.cc($)}};var Js={$ClassName:"TNamedDeclaration",$Parent:Fx,$Init:function($){Fx.$Init($);$.Name=""},Destroy:TObject.Destroy,jv:Fx.jv,MZ:Fx.MZ};var PQ={$ClassName:"TVariableDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Type=null},MZ:function(S){var R="";console.log("not implemented: TVariableDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var DY={$ClassName:"TUnionType",$Parent:Bl,$Init:function($){Bl.$Init($);$.Types=[]},MZ:function(S){var R="";var QU=0;var lu=null;R="Variant {";var $t5;for(QU=0,$t5=(S.Types.length-1);QU<$t5;QU++){R+=Fx.MZ$(S.Types[QU])+" or "}
lu=S.Types[(S.Types.length-1)];R+=(lu)?Fx.MZ$(lu):"void";R+="}";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var yh={$ClassName:"TTypeReference",$Parent:Fx,$Init:function($){Fx.$Init($);$.Name="";$.Arguments=[]},MZ:function(S){var R="";var fL=0;R="J"+S.Name;if(S.Arguments.length>0){R+=" {"+Fx.MZ$(S.Arguments[0]);var $t6;for(fL=0+1,$t6=S.Arguments.length;fL<$t6;fL++){R+=", "+Fx.MZ$(S.Arguments[fL])}
R+="} "}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var VX={$ClassName:"TTypeParameter",$Parent:Fx,$Init:function($){Fx.$Init($);$.Name="";$.ExtendsType=null},MZ:function(S){var R="";R=S.Name;if(S.ExtendsType)R+=" extends "+Fx.MZ$(S.ExtendsType);return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var B1={$ClassName:"TTypeOfType",$Parent:Tk,$Init:function($){Tk.$Init($);$.Type=null},cc:function(S){var R="";R="type of";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ:Tk.MZ,cc$:function($){return $.ClassType.cc($)}};var fM={$ClassName:"TTypeArgument",$Parent:Fx,$Init:function($){Fx.$Init($);$.Type=null},MZ:function(S){var R="";if(S.Type){R=Fx.MZ$(S.Type)}else R="Variant";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var ck={$ClassName:"TTypeAlias",$Parent:Js,$Init:function($){Js.$Init($);$.Type=null;$.TypeParameters=[]},MZ:function(S){var R="";R=Fx.qa(S.ClassType)+S.Name+" = "+Fx.MZ$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var kW={$ClassName:"TTupleType",$Parent:Bl,$Init:function($){Bl.$Init($);$.Types=[]},MZ:function(S){var R="";R="TupletType";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var ui={$ClassName:"TStringType",$Parent:FE,$Init:function($){FE.$Init($)},cc:function(S){var R="";R="String";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ:FE.MZ,cc$:function($){return $.ClassType.cc($)}};var Ae={$ClassName:"TCustomTypeMember",$Parent:Js,$Init:function($){Js.$Init($);$.TypeParameters=[];$.Visibility=0;$.IsStatic=false;$.TypeArguments=[]},jv:function(S,pn){Fx.jv(S,pn);S.Visibility=0;return S},Destroy:TObject.Destroy,jv$:function($){return $.ClassType.jv.apply($.ClassType,arguments)},MZ:Fx.MZ};var ai={$ClassName:"TClassTypeMember",$Parent:Ae,$Init:function($){Ae.$Init($);$.Visibility=0;$.IsStatic=false},Destroy:TObject.Destroy,jv:Ae.jv,MZ:Fx.MZ};var tR={$ClassName:"TPropertyMemberDeclaration",$Parent:ai,$Init:function($){ai.$Init($);$.Nullable=false;$.Type=null},MZ:function(S){var R="";var sJ=0;var u2=null;R=Fx.qa(S.ClassType)+Vz(S.Name);if(S.TypeArguments.length>0){var hn=[];R+="{<";hn=S.TypeArguments;var $t7;for(sJ=0,$t7=hn.length;sJ<$t7;sJ++){u2=hn[sJ];R+=Fx.MZ$(u2)}
R+=">}"}
R+=": ";if(S.Type){if($Is(S.Type,XQ))R+="record"+"\r\n";R+=Fx.MZ$(S.Type)}else R+="Variant";R+=";";if(S.Nullable)R+=" \/\/ nullable";R+="\r\n";return R},Destroy:TObject.Destroy,jv:Ae.jv,MZ$:function($){return $.ClassType.MZ($)}};var xv={$ClassName:"TParameter",$Parent:Js,$Init:function($){Js.$Init($);$.DefaultValue="";$.IsRest=$.IsOptional=false;$.AccessibilityModifier=0;$.Type=null},MZ:function(S){var R="";R=S.Name+": ";if(S.Type){if($Is(S.Type,XQ))R+="record"+"\r\n";R+=Fx.MZ$(S.Type)}else R+="Variant";if(S.DefaultValue!="")R+=" = "+S.DefaultValue;if(S.IsRest)R+=" {...}";return R},pm:function(S,y1){var R="";var xz=null;R=Vz(S.Name);if(!y1){R+=": ";if(S.Type){if($Is(S.Type,XQ))R+="record"+"\r\n";if($Is(S.Type,ru)){xz=$As(S.Type,ru).ResultType;R+=(xz)?"function":"procedure"}
R+=Fx.MZ$(S.Type)}else R+="Variant"}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var XQ={$ClassName:"TObjectType",$Parent:Bl,$Init:function($){Bl.$Init($);$.Members=[]},MZ:function(S){var R="";var cE=0;var Ag=null,dV=null;var xD=[];Fx.EO(S.ClassType);xD=S.Members;var $t8;for(cE=0,$t8=xD.length;cE<$t8;cE++){Ag=xD[cE];if($Is(Ag,dN)){R+=Fx.qa(S.ClassType);dV=$As(Ag,dN).Type;R+=(dV)?"function":"procedure";R+=Fx.MZ$(Ag)+"\r\n"}else R+=Fx.MZ$(Ag)}
Fx.l5(S.ClassType);R+=Fx.qa(S.ClassType)+"end;";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var YJ={$ClassName:"TNamespaceDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Namespaces=[];$.Interfaces=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.Enums=[]},MZ:function(S){var R="";console.log("not implemented: TDefinitionDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Ph={$ClassName:"TNamedType",$Parent:Tk,$Init:function($){Tk.$Init($);$.Arguments=[];$.rn=""},Am:function(S,Xm,yu){Fx.jv(S,Xm);S.rn=yu;return S},MZ:function(S){var R="";var Ol=0;var sh=null;R=Tk.MZ(S);if(S.Arguments.length>0){var VE=[];R+="{<";VE=S.Arguments;var $t9;for(Ol=0,$t9=VE.length;Ol<$t9;Ol++){sh=VE[Ol];R+=Fx.MZ$(sh)}
R+=">}"}
return R},cc:function(S){var R="";R=S.rn;return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)},cc$:function($){return $.ClassType.cc($)}};var Lq={$ClassName:"TModuleDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Modules=[];$.Variables=[];$.Exports=[];$.Functions=[];$.Interfaces=[];$.Classes=[]},MZ:function(S){var R="";var qk=0;var X3=null,gg=0;var wY=null,tx=0;var bw=null;R="";if(S.Classes.length+S.Interfaces.length>0){var eN=[],T9A=[];R+="type"+"\r\n";Fx.EO(S.ClassType);T9A=S.Classes;var $tA;for(qk=0,$tA=T9A.length;qk<$tA;qk++){X3=T9A[qk];R=R+Fx.MZ$(X3)}
eN=S.Interfaces;var $tB;for(gg=0,$tB=eN.length;gg<$tB;gg++){wY=eN[gg];R=R+Fx.MZ$(wY)}
Fx.l5(S.ClassType)}
if(S.Variables.length>0){var S8=[];R+="var"+"\r\n";Fx.EO(S.ClassType);S8=S.Variables;var $tC;for(tx=0,$tC=S8.length;tx<$tC;tx++){bw=S8[tx];R=R+Fx.MZ$(bw)}
Fx.l5(S.ClassType)}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var T3={$ClassName:"TMethodDeclaration",$Parent:ai,$Init:function($){ai.$Init($);$.CallSignature=null},MZ:function(S){var R="";var R7="";var y2="";var M5=0,UU=0;var tL=null,wj=0;var Na=[];M5=0;Na=S.CallSignature.ParameterList;var $tD;for(UU=0,$tD=Na.length;UU<$tD;UU++){tL=Na[UU];if(tL.IsOptional)++M5}
R7=Fx.qa(S.ClassType);R7+=(S.CallSignature.Type)?"function":"procedure";R7+=" "+S.Name;y2=(M5>0)?" overload;":"";y2+="\r\n";R="";var $tE;for(wj=0,$tE=M5;wj<=$tE;wj++){R+=R7+dN.KX(S.CallSignature,wj)+y2}
return R},Destroy:TObject.Destroy,jv:Ae.jv,MZ$:function($){return $.ClassType.MZ($)}};var Fj={$ClassName:"TInterfaceDeclaration",$Parent:Fx,$Init:function($){Fx.$Init($);$.TypeParameters=[];$.Name="";$.Extends=[];$.Type=null},MZ:function(S){var R="";var iO=0;var Pc=null,Do=0;R+=Fx.qa(S.ClassType)+"J"+S.Name;if(S.TypeParameters.length>0){var YM=[];R+="{<";YM=S.TypeParameters;var $tF;for(iO=0,$tF=YM.length;iO<$tF;iO++){Pc=YM[iO];R+=Fx.MZ$(Pc)}
R+=">}"}
R+=" = class external";if(S.Extends.length>0){R+="(";R+=Fx.MZ$(S.Extends[0]);var $tG;for(Do=0+1,$tG=S.Extends.length;Do<$tG;Do++){R+=", "+Fx.MZ$(S.Extends[Do])}
R+=")"}
R+="\r\n";R+=Fx.MZ$(S.Type);R+="\r\n"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var ZO={$ClassName:"TIndexSignature",$Parent:Ae,$Init:function($){Ae.$Init($);$.IsStringIndex=false;$.Type=null},MZ:function(S){var R="";R=Fx.qa(S.ClassType)+"\/\/ ";R+="property Item["+S.Name+": ";R+=(S.IsStringIndex)?"String":"Integer";R+="]: "+Fx.MZ$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Ae.jv,MZ$:function($){return $.ClassType.MZ($)}};var ZJ={$ClassName:"TIndexMemberDeclaration",$Parent:ai,$Init:function($){ai.$Init($);$.IndexSignature=null},MZ:function(S){var R="";R=Fx.MZ$(S.IndexSignature)+";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Ae.jv,MZ$:function($){return $.ClassType.MZ($)}};var ho={$ClassName:"TImportDeclaration",$Parent:Js,$Init:function($){Js.$Init($)},MZ:function(S){var R="";console.log("not implemented: TImportDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var ru={$ClassName:"TFunctionType",$Parent:Tk,$Init:function($){Tk.$Init($);$.ParameterList=[];$.ResultType=null},MZ:function(S){var R="";var Tz=0;if(S.ParameterList.length>0){R="("+sw.Wb(S.ParameterList[0],false);var $tH;for(Tz=0+1,$tH=S.ParameterList.length;Tz<$tH;Tz++){R+="; "+sw.Wb(S.ParameterList[Tz],false)}
R+=")"}
if(S.ResultType)R+=": "+Fx.MZ$(S.ResultType);return R},B2:function(S,Ye){var R="";var t3=false;var QA=0,Pq=0;QA=0;if(S.ParameterList.length>0){if(!(S.ParameterList[0].IsOptional&&Ye==0)){QA+=(S.ParameterList[0].IsOptional?1:0);t3=S.ParameterList.length>=2&&Qy(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[0].IsOptional)||QA<Ye);R="("+sw.Wb(S.ParameterList[0],t3);var $tI;for(Pq=0+1,$tI=S.ParameterList.length;Pq<$tI;Pq++){if(S.ParameterList[Pq].IsOptional&&QA>=Ye)break;QA+=(S.ParameterList[Pq].IsOptional?1:0);R+=(t3)?", ":"; ";t3=Pq+1<S.ParameterList.length&&Qy(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[Pq].IsOptional)||QA<Ye);R+=sw.Wb(S.ParameterList[Pq],t3)}
R+=")"}}
if(S.ResultType)R+=": "+Fx.MZ$(S.ResultType);return R},cc:function(S){var R="";R="function";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)},cc$:function($){return $.ClassType.cc($)}};var sw={$ClassName:"TFunctionParameter",$Parent:Js,$Init:function($){Js.$Init($);$.Type=null;$.IsOptional=false},MZ:function(S){var R="";R=Vz(S.Name)+": ";if(S.Type){if($Is(S.Type,XQ))R+="record"+"\r\n";R+=Fx.MZ$(S.Type)}else R+="Variant";return R},Wb:function(S,UX){var R="";R=Vz(S.Name);if(!UX){R+=": ";if(S.Type){if($Is(S.Type,XQ))R+="record"+"\r\n";R+=Fx.MZ$(S.Type)}else R+="Variant"}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Rp={$ClassName:"TFunctionDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Type=null},MZ:function(S){var R="";var MH="";var Eq="";var iD=0,mM=0;var Ky=null,uu=0;var xc=[];iD=0;xc=S.Type.ParameterList;var $tJ;for(mM=0,$tJ=xc.length;mM<$tJ;mM++){Ky=xc[mM];if(Ky.IsOptional)++iD}
MH=Fx.qa(S.ClassType);MH+=(S.Type.ResultType)?"function":"procedure";MH+=" "+S.Name;Eq=";"+((iD>0)?" overload;":"");Eq+="\r\n";R="";var $tK;for(uu=0,$tK=iD;uu<=$tK;uu++){R+=MH+ru.B2(S.Type,uu)+Eq}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var T1={$ClassName:"TFloatType",$Parent:FE,$Init:function($){FE.$Init($)},cc:function(S){var R="";R="Float";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ:FE.MZ,cc$:function($){return $.ClassType.cc($)}};var YG={$ClassName:"TExportDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.lQ=false},MZ:function(S){var R="";R="";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var ZE={$ClassName:"TEnumerationItem",$Parent:Fx,$Init:function($){Fx.$Init($);$.Name=$.Value=""},MZ:function(S){var R="";R=S.Name;return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var um={$ClassName:"TEnumerationDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Items=[]},MZ:function(S){var R="";var Kd=0;var Rs=null;var Cr=[];R+=Fx.qa(S.ClassType)+"T"+S.Name+" = Variant;"+"\r\n";R+=Fx.qa(S.ClassType)+"T"+S.Name+"Helper = strict helper for T"+S.Name+"\r\n";Fx.EO(S.ClassType);Cr=S.Items;var $tL;for(Kd=0,$tL=Cr.length;Kd<$tL;Kd++){Rs=Cr[Kd];R+=Fx.qa(S.ClassType)+"const "+Vz(Fx.MZ$(Rs));if(Rs.Value!=""){try{R+=" = "+(parseInt(Rs.Value,10)).toString()+";"+"\r\n"}catch($e){R+=" = '"+Rs.Value+"';"+"\r\n"}}else R+=" = '"+Rs.Name+"';"+"\r\n"}
Fx.l5(S.ClassType);R+=Fx.qa(S.ClassType)+"end;"+"\r\n";R+="\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Wx={$ClassName:"TDefinitionDeclaration",$Parent:Js,$Init:function($){Js.$Init($)},MZ:function(S){var R="";console.log("not implemented: TDefinitionDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var sC={$ClassName:"TConstructorType",$Parent:Tk,$Init:function($){Tk.$Init($);$.ResultType=null;$.ParameterList=[]},MZ:function(S){var R="";var iw=0;if(S.ParameterList.length>0){R="("+sw.Wb(S.ParameterList[0],false);var $tM;for(iw=0+1,$tM=S.ParameterList.length;iw<$tM;iw++){R+="; "+sw.Wb(S.ParameterList[iw],false)}
R+=")"}
if(S.ResultType)R+=": "+Fx.MZ$(S.ResultType);return R},cc:function(S){var R="";R="constructor";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)},cc$:function($){return $.ClassType.cc($)}};var mo={$ClassName:"TConstructorDeclaration",$Parent:ai,$Init:function($){ai.$Init($);$.ParameterList=[];$.Type=null},MZ:function(S){var R="";R=Fx.qa(S.ClassType)+"constructor Create";if(S.Type)R+=Fx.MZ$(S.Type);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Ae.jv,MZ$:function($){return $.ClassType.MZ($)}};var I1={$ClassName:"TClassDeclaration",$Parent:Fj,$Init:function($){Fj.$Init($);$.Implements=[];$.Members=[]},MZ:function(S){var R="";var q4=0;var rk=0;var gC=null;var uO=[];R+=Fx.qa(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=Fx.MZ$(S.Extends[0]);var $tN;for(q4=0+1,$tN=S.Extends.length;q4<$tN;q4++){R+=", "+Fx.MZ$(S.Extends[q4])}
R+=")"}
R+="\r\n";Fx.EO(S.ClassType);uO=S.Members;var $tO;for(rk=0,$tO=uO.length;rk<$tO;rk++){gC=uO[rk];R+=Fx.MZ$(gC)}
Fx.l5(S.ClassType);R+=Fx.qa(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var dN={$ClassName:"TCallSignature",$Parent:Ae,$Init:function($){Ae.$Init($);$.ParameterList=[];$.Type=null;$.TypeParameters=[]},MZ:function(S){var R="";var ep=0;var Ea=null,tJ=0;R="";if(S.TypeParameters.length>0){var jF=[];R+="{<";jF=S.TypeParameters;var $tP;for(ep=0,$tP=jF.length;ep<$tP;ep++){Ea=jF[ep];R+=Fx.MZ$(Ea)}
R+=">}"}
if(S.ParameterList.length>0){R+="(";var $tQ;for(tJ=0,$tQ=(S.ParameterList.length-1);tJ<$tQ;tJ++){R+=xv.pm(S.ParameterList[tJ],false)+"; "}
R+=xv.pm(S.ParameterList[(S.ParameterList.length-1)],false)+")"}
if(S.Type)R+=": "+Fx.MZ$(S.Type);R+=";";return R},KX:function(S,Ri){var R="";var Jd=false;var it=0,kI=0;it=0;if(S.ParameterList.length>0){if(!(S.ParameterList[0].IsOptional&&Ri==0)){it+=(S.ParameterList[0].IsOptional?1:0);Jd=S.ParameterList.length>=2&&ns(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[0].IsOptional)||it<Ri);R="("+xv.pm(S.ParameterList[0],Jd);var $tR;for(kI=0+1,$tR=S.ParameterList.length;kI<$tR;kI++){if(S.ParameterList[kI].IsOptional&&it>=Ri)break;it+=(S.ParameterList[kI].IsOptional?1:0);R+=(Jd)?", ":"; ";Jd=kI+1<S.ParameterList.length&&ns(S.ParameterList[kI],S.ParameterList[kI+1])&&((!S.ParameterList[kI].IsOptional)||it<Ri);R+=xv.pm(S.ParameterList[kI],Jd)}
R+=")"}}
if(S.Type)R+=": "+Fx.MZ$(S.Type);return R},Destroy:TObject.Destroy,jv:Ae.jv,MZ$:function($){return $.ClassType.MZ($)}};var fy={$ClassName:"TBooleanType",$Parent:FE,$Init:function($){FE.$Init($)},cc:function(S){var R="";R="Boolean";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ:FE.MZ,cc$:function($){return $.ClassType.cc($)}};var hI={$ClassName:"TArrayType",$Parent:Bl,$Init:function($){Bl.$Init($);$.Type=null},MZ:function(S){var R="";R="array of "+Fx.MZ$(S.Type);return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var TU={$ClassName:"TAmbientVariableDeclaration",$Parent:Fx,$Init:function($){Fx.$Init($);$.IsConst=false;$.AmbientBindingList=[]},MZ:function(S){var R="";var cV=0;var QW=null;var Ql=[];Ql=S.AmbientBindingList;var $tS;for(cV=0,$tS=Ql.length;cV<$tS;cV++){QW=Ql[cV];R+=Fx.qa(S.ClassType)+Fx.MZ$(QW)}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Ab={$ClassName:"TAmbientBodyElement",$Parent:Fx,$Init:function($){Fx.$Init($)},Destroy:TObject.Destroy,jv:Fx.jv,MZ:Fx.MZ};var Zn={$ClassName:"TAmbientPropertyMemberDeclaration",$Parent:Ab,$Init:function($){Ab.$Init($);$.Visibility=0;$.IsStatic=false;$.Name=""},Destroy:TObject.Destroy,jv:Fx.jv,MZ:Fx.MZ};var dI={$ClassName:"TAmbientPropertyMemberDeclarationProperty",$Parent:Zn,$Init:function($){Zn.$Init($);$.Type=null},MZ:function(S){var R="";R=Fx.qa(S.ClassType);if(S.IsStatic)R+="class var ";R+=Vz(S.Name);R+=": "+((S.Type)?Fx.MZ$(S.Type):"Variant");R+=";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var FL={$ClassName:"TAmbientPropertyMemberDeclarationMethod",$Parent:Zn,$Init:function($){Zn.$Init($);$.CallSignature=null},MZ:function(S){var R="";var cv="";var aW="";var Oq=0,S4=0;var C1=null,KF=0;var Qh=[];Oq=0;Qh=S.CallSignature.ParameterList;var $tT;for(S4=0,$tT=Qh.length;S4<$tT;S4++){C1=Qh[S4];if(C1.IsOptional)++Oq}
cv=Fx.qa(S.ClassType);cv+=(S.CallSignature.Type)?"function":"procedure";cv+=" "+Vz(S.Name);aW=(Oq>0)?" overload;":"";aW+="\r\n";R="";var $tU;for(KF=0,$tU=Oq;KF<=$tU;KF++){R+=cv+dN.KX(S.CallSignature,KF)+aW}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Yn={$ClassName:"TAmbientNamespaceDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Namespaces=[];$.Variables=[];$.Interfaces=[];$.Enums=[];$.Functions=[];$.Classes=[]},MZ:function(S){var R="";var Jf=0,I9=0;var FZ=null,GH=0;var Zj=null,jq=0;var GM=null,dL=0;var pz=null,JU=0;var Wl=null,nf=0;var sB=null,Zm=0;var nz=null,w8=0;var cw=null;var rP=[],MX=[];console.log("Write namespace: "+S.Name);R="\/\/ Namespace "+S.Name+"\r\n"+"\r\n";Jf=0;MX=S.Variables;var $tV;for(I9=0,$tV=MX.length;I9<$tV;I9++){FZ=MX[I9];if(FZ.IsConst)++Jf}
if(Jf>0){var Zk=[];R+="const"+"\r\n";Fx.EO(S.ClassType);Zk=S.Variables;var $tW;for(GH=0,$tW=Zk.length;GH<$tW;GH++){Zj=Zk[GH];if(Zj.IsConst)R=R+Fx.MZ$(Zj)}
Fx.l5(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var t2=[],sO=[],YD=[];R+="type"+"\r\n";Fx.EO(S.ClassType);YD=S.Enums;var $tX;for(jq=0,$tX=YD.length;jq<$tX;jq++){GM=YD[jq];R+=Fx.MZ$(GM)}
sO=S.Classes;var $tY;for(dL=0,$tY=sO.length;dL<$tY;dL++){pz=sO[dL];R+=Fx.MZ$(pz)}
t2=S.Interfaces;var $tZ;for(JU=0,$tZ=t2.length;JU<$tZ;JU++){Wl=t2[JU];R+=Fx.MZ$(Wl)}
Fx.l5(S.ClassType)}
if(S.Functions.length>0){var lV=[];lV=S.Functions;var $ta;for(nf=0,$ta=lV.length;nf<$ta;nf++){sB=lV[nf];R+=Fx.MZ$(sB)}
R+="\r\n"}
if(S.Variables.length-Jf>0){var sL=[];R+="var"+"\r\n";Fx.EO(S.ClassType);sL=S.Variables;var $tb;for(Zm=0,$tb=sL.length;Zm<$tb;Zm++){nz=sL[Zm];if(!nz.IsConst)R=R+Fx.MZ$(nz)}
Fx.l5(S.ClassType);R+="\r\n"}
rP=S.Namespaces;var $tc;for(w8=0,$tc=rP.length;w8<$tc;w8++){cw=rP[w8];R+=Fx.MZ$(cw)}
R+="\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var hZ={$ClassName:"TAmbientModuleDeclaration",$Parent:Fx,$Init:function($){Fx.$Init($);$.Interfaces=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.IdentifierPath="";$.Enums=[];$.Variables=[]},MZ:function(S){var R="";var dZ=0,pj=0;var uz=null,p1=0;var rA=null,SY=0;var kR=null,u4=0;var lG=null,vl=0;var Ac=null,SE=0;var D2=null,Nx=0;var lE=null,el=0;var VW=null,Tw=0;var Jv=null,yk=0;var zd=null;var x2=[],jB=[],Kh=[];R="\/\/"+S.IdentifierPath+"\r\n"+"\r\n";dZ=0;x2=S.Variables;var $td;for(pj=0,$td=x2.length;pj<$td;pj++){uz=x2[pj];if(uz.IsConst)++dZ}
if(dZ>0){var l6=[];R+="const"+"\r\n";Fx.EO(S.ClassType);l6=S.Variables;var $te;for(p1=0,$te=l6.length;p1<$te;p1++){rA=l6[p1];if(rA.IsConst)R=R+Fx.MZ$(rA)}
Fx.l5(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var AV=[],ue=[],MD=[],iX=[];R+="type"+"\r\n";Fx.EO(S.ClassType);ue=S.Enums;var $tf;for(SY=0,$tf=ue.length;SY<$tf;SY++){kR=ue[SY];R+=Fx.MZ$(kR)}
AV=S.Classes;var $tg;for(u4=0,$tg=AV.length;u4<$tg;u4++){lG=AV[u4];R+=Fx.MZ$(lG)}
iX=S.Interfaces;var $th;for(vl=0,$th=iX.length;vl<$th;vl++){Ac=iX[vl];R+=Fx.MZ$(Ac)}
MD=S.TypeAliases;var $ti;for(SE=0,$ti=MD.length;SE<$ti;SE++){D2=MD[SE];R+=Fx.MZ$(D2)}
Fx.l5(S.ClassType)}
jB=S.Modules;var $tj;for(Nx=0,$tj=jB.length;Nx<$tj;Nx++){lE=jB[Nx];R+=Fx.MZ$(lE)}
if(S.Functions.length>0){var jT=[];jT=S.Functions;var $tk;for(el=0,$tk=jT.length;el<$tk;el++){VW=jT[el];R+=Fx.MZ$(VW)}
R+="\r\n"}
if(S.Variables.length-dZ>0){var uj=[];R+="var"+"\r\n";Fx.EO(S.ClassType);uj=S.Variables;var $tl;for(Tw=0,$tl=uj.length;Tw<$tl;Tw++){Jv=uj[Tw];if(!Jv.IsConst)R=R+Fx.MZ$(Jv)}
Fx.l5(S.ClassType);R+="\r\n"}
Kh=S.Namespaces;var $tm;for(yk=0,$tm=Kh.length;yk<$tm;yk++){zd=Kh[yk];R+=Fx.MZ$(zd)}
R+="\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var bu={$ClassName:"TAmbientFunctionDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.CallSignature=null},MZ:function(S){var R="";var ud="";var M6="";var zR=0,HX=0;var HS=null,Cb=0;var Dw=[];zR=0;Dw=S.CallSignature.ParameterList;var $tn;for(HX=0,$tn=Dw.length;HX<$tn;HX++){HS=Dw[HX];if(HS.IsOptional)++zR}
ud=Fx.qa(S.ClassType);ud+=(S.CallSignature.Type)?"function":"procedure";ud+=" "+S.Name;M6=(zR>0)?" overload;":"";M6+="\r\n";R="";var $to;for(Cb=0,$to=zR;Cb<=$to;Cb++){R+=ud+dN.KX(S.CallSignature,Cb)+M6}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var x7={$ClassName:"TAmbientEnumerationDeclaration",$Parent:um,$Init:function($){um.$Init($)},Destroy:TObject.Destroy,jv:Fx.jv,MZ:um.MZ};var yU={$ClassName:"TAmbientDeclaration",$Parent:Js,$Init:function($){Js.$Init($);$.Variables=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.Enums=[]},MZ:function(S){var R="";var Pw=0;var sD=null,Dz=0;var T15=null,HF=0;var Qb=null,f7=0;var tp=null,VH=0;var T2=null;var Ak=[],u8=[],fi=[],yV=[];u8=S.Functions;var $tp;for(Pw=0,$tp=u8.length;Pw<$tp;Pw++){sD=u8[Pw];R+=Fx.MZ$(sD)}
Ak=S.Modules;var $tq;for(Dz=0,$tq=Ak.length;Dz<$tq;Dz++){T15=Ak[Dz];R+=Fx.MZ$(T15)}
if(S.Classes.length>0){var D3=[];R+="type"+"\r\n";Fx.EO(S.ClassType);D3=S.Classes;var $tr;for(HF=0,$tr=D3.length;HF<$tr;HF++){Qb=D3[HF];R+=Fx.MZ$(Qb)}
Fx.l5(S.ClassType)}
if(S.Variables.length>0){yV=S.Variables;var $ts;for(f7=0,$ts=yV.length;f7<$ts;f7++){tp=yV[f7];R+=Fx.MZ$(tp)}}
fi=S.Namespaces;var $tt;for(VH=0,$tt=fi.length;VH<$tt;VH++){T2=fi[VH];R+=Fx.MZ$(T2)}
return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var la={$ClassName:"TAmbientConstructorDeclaration",$Parent:Ab,$Init:function($){Ab.$Init($);$.ParameterList=[]},MZ:function(S){var R="";var mL=0;R=Fx.qa(S.ClassType)+"constructor Create";if(S.ParameterList.length>0){R+="(";var $tu;for(mL=0,$tu=(S.ParameterList.length-1);mL<$tu;mL++){R+=sw.Wb(S.ParameterList[mL],false)+"; "}
R+=sw.Wb(S.ParameterList[(S.ParameterList.length-1)],false)+")";R+=")"}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Gp={$ClassName:"TAmbientClassDeclaration",$Parent:Fx,$Init:function($){Fx.$Init($);$.Members=[];$.Name="";$.Extends=[];$.Implements=[]},MZ:function(S){var R="";var CX=0;var wD=0,J7=0;var dv=null,P1=0;var Rd=[];R+=Fx.qa(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=Fx.MZ$(S.Extends[0]);var $tv;for(CX=0+1,$tv=S.Extends.length;CX<$tv;CX++){R+=", "+Fx.MZ$(S.Extends[CX])}
R+=")"}
R+="\r\n";wD=0;Fx.EO(S.ClassType);Rd=S.Members;var $tw;for(J7=0,$tw=Rd.length;J7<$tw;J7++){dv=Rd[J7];P1=($Is(dv,Zn))?$As(dv,Zn).Visibility:0;if(wD!=P1){Fx.l5(S.ClassType);R+=Fx.qa(S.ClassType);switch(P1){case 0:R+="public"+"\r\n";break;case 1:R+="protected"+"\r\n";break;case 2:R+="private"+"\r\n";break}
Fx.EO(S.ClassType);wD=P1}
R+=Fx.MZ$(dv)}
Fx.l5(S.ClassType);R+=Fx.qa(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var Az={$ClassName:"TAmbientBinding",$Parent:Js,$Init:function($){Js.$Init($);$.Type=null},MZ:function(S){var R="";R=S.Name+": "+Fx.MZ$(S.Type);return R},Destroy:TObject.Destroy,jv:Fx.jv,MZ$:function($){return $.ClassType.MZ($)}};var KJ=["amPublic","amPrivate","amProtected"];function ns(Gn,wp){var R=false;R=(!(Gn.Type!==null)!=!(Gn.Type!==null));if(R&&(Gn.Type!==null))R=Fx.MZ$(Gn.Type)==Fx.MZ$(wp.Type);return R};function Qy(GR,sKH){var R=false;R=(!(GR.Type!==null)!=!(GR.Type!==null));if(R&&(GR.Type!==null))R=Fx.MZ$(GR.Type)==Fx.MZ$(sKH.Type);return R};function Vz(wE){var R="";R=wE;if((["abstract","class","const","constructor","default","div","end","export","external","function","interface","label","object","private","property","protected","public","string","type","uses"].indexOf((wE).toLowerCase())>=0))R="&"+R;if((["length","include","exclude"].indexOf((wE).toLowerCase())>=0))R="_"+R;return R};var x=null;var x=require("typescript");var BX=0;var M=[],Zo="",hE="",qW=null;var qW=l9();M=process.argv;M.splice(0,2);if(M.length==0){return"Usage: ts2pas inputfile [outputfile]"}
Zo=M[0];if(((Zo).indexOf("https:\/\/github.com\\")>=0)){gK(StrAfter(Zo,"https:\/\/github.com\\"))}else{hE=M[0]+".pas";if(M.length==2)hE=M[1];Sq(Zo,hE)}
