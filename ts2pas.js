#! /usr/bin/env node
/**
* ts2pas
* https://github.com/CWBudde/TS2Pas
*
* Copyright (c) 2016 Christian-W. Budde
* Licensed under the MIT license.
*/


var TObject={$ClassName:"TObject",$Parent:null,ClassName:function(s){return s.$ClassName},ClassType:function(s){return s},ClassParent:function(s){return s.$Parent},$Init:function(){},Create:function(s){return s},Destroy:function(s){for(var prop in s)if(s.hasOwnProperty(prop))delete s.prop},Destroy$:function(s){return s.ClassType.Destroy(s)},Free:function(s){if(s!==null)s.ClassType.Destroy(s)}}
function StrReplace(s,o,n){return o?s.replace(new RegExp(StrRegExp(o),"g"),n):s}
function StrRegExp(s){return s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}
function StrBefore(s,d){if(!d)return s;var p=s.indexOf(d);return(p<0)?s:s.substr(0,p)}
function StrAfter(s,d){if(!d)return"";var p=s.indexOf(d);return(p<0)?"":s.substr(p+d.length)}
var Exception={$ClassName:"Exception",$Parent:TObject,$Init:function(){var FMessage=""},Create:function(s,Msg){s.FMessage=Msg;return s}}
function stringRepeat(s,n){if(n<1)return'';var r='';while(n>0){if(n&1)r+=s;n>>=1,s+=s};return r};function DupeString(s,n){return stringRepeat(s,n)}
function $W(e){return e.ClassType?e:Exception.Create($New(Exception),e.constructor.name+", "+e.message)}
function $StrSet(s,i,v,z){if(i<1)throw Exception.Create($New(Exception),"Lower bound exceeded! Index "+i.toString()+z);if(i>s.length)throw Exception.Create($New(Exception),"Upper bound exceeded! Index "+i.toString()+z);return s.substring(0,i-1)+v+s.substring(i)}
function $New(c){var i={ClassType:c};c.$Init(i);return i}
function $Is(o,c){if(o===null)return false;return $Inh(o.ClassType,c)};function $Inh(s,c){if(s===null)return false;while((s)&&(s!==c))s=s.$Parent;return(s)?true:false};function $Extend(base,sub,props){function F(){};F.prototype=base.prototype;sub.prototype=new F();sub.prototype.constructor=sub;for(var n in props){if(props.hasOwnProperty(n)){sub.prototype[n]=props[n]}}}
function $AsIntf(o,i){if(o===null)return null;var r=o.ClassType.$Intf[i].map(function(e){return function(){var arg=Array.prototype.slice.call(arguments);arg.splice(0,0,o);return e.apply(o,arg)}});r.O=o;return r};function $As(o,c){if((o===null)||$Is(o,c))return o;throw Exception.Create($New(Exception),"Cannot cast instance of type \""+o.ClassType.$ClassName+"\" to class \""+c.$ClassName+"\"")}
function JError(){}
$Extend(Object,JError,{});function HG(KE,fO){var R=false;var WY="";WY=StrBefore(KE,".d.ts");if(KE==WY)KE+=".d.ts";Af.readFile(KE,function(Jz,vC){var bf="",mV=null,Oy="";if(!vC)return;bf=vC.toString("utf8");mV=dk.Jt($New(dk));mV.Name=WY;Oy=dk.WD(mV,bf);R=Oy!="";if(Oy.length>5)Af.writeFile(fO,Oy,function(sW){});mV=null});return R};function Wy(rZ){var R=false;R=HG(rZ,StrBefore(rZ,".d.ts")+".pas");return R};function AH(HH){var h2=[];Af.readdir(HH,function(n4,Te){var gs=0;var Cg="";var $t1;for(gs=0,$t1=Te.length;gs<$t1;gs++){Cg=Te[gs];if(Wy(HH+Cg)){h2.push(Cg)}}})};function uK(){var n8=function(){for(var r=[],i=0;i<42;i++)r.push("");return r}(),Ec=0;var vZ="";n8=["abs\/abs.d.ts","absolute\/absolute.d.ts","accounting\/accounting.d.ts","acc-wizard\/acc-wizard.d.ts","amazon-product-api\/amazon-product-api.d.ts","amcharts\/AmCharts.d.ts","amplifyjs\/amplifyjs.d.ts","box2d\/box2dweb.d.ts","browserify\/browserify.d.ts","d3\/d3.d.ts","devextreme\/devextreme.d.ts","dojo\/dijit.d.ts","dojo\/dojo.d.ts","easeljs\/easeljs.d.ts","ember\/ember.d.ts","express\/express.d.ts","fabricjs\/fabricjs.d.ts","gruntjs\/gruntjs.d.ts","hapi\/hapi.d.ts","jquery\/jquery.d.ts","jquerymobile\/jquerymobile.d.ts","kendo-ui\/kendo-ui.d.ts","leapmotionTS\/LeapMotionTS.d.ts","linq\/linq.d.ts","matter-js\/matter-js.d.ts","office-js\/office-js.d.ts","openlayers\/openlayers.d.ts","phantom\/phantom.d.ts","phantomjs\/phantomjs.d.ts","phonegap\/phonegap.d.ts","plottable\/plottable.d.ts","preloadjs\/preloadjs.d.ts","socket.io\/socket.io.d.ts","soundjs\/soundjs.d.ts","titanium\/titanium.d.ts","tweenjs\/tweenjs.d.ts","typescript\/typescript.d.ts","ui-grid\/ui-grid.d.ts","webix\/webix.d.ts","winjs\/winjs.d.ts","winrt\/winrt.d.ts","youtube\/youtube.d.ts"];for(Ec=0;Ec<=41;Ec++){vZ=n8[Ec];CP("\/DefinitelyTyped\/DefinitelyTyped\/master\/"+vZ)}};function sJ(Tv){if(Tv==StrBefore(Tv,".d.ts"))Tv+=".d.ts";Af.readFile(Tv,function(VE,pe){var Go="",DR=null;Go=pe.toString("utf8");DR=H.createSourceFile(Tv,Go,2,true);G1(DR)})};function CP(FS){var QX=null,ve=null,Z4=null,Hd=null;QX=jx();ve=new Object();ve.hostname="raw.githubusercontent.com";ve.path=FS;console.log("Fetching: "+FS);Z4=dk.Jt($New(dk));Hd=QX.get(ve,function(rT){var XU="",J4=[],QU="",i6="";XU="";J4=(FS).split("\/");QU=StrBefore(J4[(J4.length-1)],".d.ts");i6=QU+".pas";rT.on("data",function(Dq){XU+=String(Dq)});rT.on("end",function(w8){var Gp="";console.log("Translating: "+QU);Z4.Name=QU;Gp=dk.WD(Z4,XU);console.log("Writing: "+i6);if(Gp.length>5)Af.writeFile(i6,Gp,function(Dc){})})});Hd.on("error",function(T3){console.log("Error: ",T3)})};function G1(xX){Hb(xX)};function Hb(Yu){var R=undefined;switch(Yu.kind){case 9:console.log(Yu.text);break;case 69:console.log(Yu.text);break;case 151:console.log(Yu.text);break;case 122:console.log("declare");break;case 135:console.log(Yu.left);break;default:console.log(Yu.kind)}
H.forEachChild(Yu,Hb);return R};function Copy$xk(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$xk($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$y7(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$y7($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$gI(s,d){d.persistent=s.persistent;return d}
function Clone$gI($){return{persistent:$.persistent}}
function Copy$uj(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$uj($){return{curr:$.curr,prev:$.prev}}
function Copy$MH(s,d){d.curr=s.curr;d.prev=s.prev;return d}
function Clone$MH($){return{curr:$.curr,prev:$.prev}}
function Copy$lH(s,d){d.persistent=s.persistent;d.interval=s.interval;return d}
function Clone$lH($){return{persistent:$.persistent,interval:$.interval}}
function Copy$Ca(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$Ca($){return{encoding:$.encoding,flag:$.flag}}
function Copy$MJ(s,d){d.encoding=s.encoding;d.flag=s.flag;return d}
function Clone$MJ($){return{encoding:$.encoding,flag:$.flag}}
function Copy$gY(s,d){d.flags=s.flags;d.encoding=s.encoding;d.string_=s.string_;return d}
function Clone$gY($){return{flags:$.flags,encoding:$.encoding,string_:$.string_}}
function Copy$MK(s,d){d.bufferSize=s.bufferSize;d.encoding=s.encoding;d.fd=s.fd;d.mode=s.mode;d.flags=s.flags;return d}
function Clone$MK($){return{bufferSize:$.bufferSize,encoding:$.encoding,fd:$.fd,mode:$.mode,flags:$.flags}}
function Copy$YJ(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$YJ($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Copy$So(s,d){d.encoding=s.encoding;d.mode=s.mode;d.flag=s.flag;return d}
function Clone$So($){return{encoding:$.encoding,mode:$.mode,flag:$.flag}}
function Z9(){var R=null;R=require("fs");return R};function X4(){var R=null;R=require("stream");return R};function WN(){var R=null;R=require("events");return R};function jx(){var R=null;R=require("https");return R};var SI={$ClassName:"TServer_address_result_object_tls",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};var fU={$ClassName:"TServer_addContext_credentials_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.key=$.cert=$.ca=""},Destroy:TObject.Destroy};function HM(){var R=null;R=require("tls");return R};var I8={$ClassName:"TClearTextStream_getCipher_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.name=$.version=""},Destroy:TObject.Destroy};var BP={$ClassName:"TClearTextStream_address_object",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};function xJ(){var R=null;R=require("crypto");return R};function Copy$XC(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$XC($){return{allowHalfOpen:$.allowHalfOpen}}
function Copy$oR(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$oR($){return{allowHalfOpen:$.allowHalfOpen}}
function Copy$Ig(s,d){d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$Ig($){return{allowHalfOpen:$.allowHalfOpen}}
function yp(){var R=null;R=require("net");return R};function Copy$TD(s,d){d.fd=s.fd;d.type=s.type;d.allowHalfOpen=s.allowHalfOpen;return d}
function Clone$TD($){return{fd:$.fd,type:$.type,allowHalfOpen:$.allowHalfOpen}}
var sM={$ClassName:"JServerAddressResult",$Parent:TObject,$Init:function($){TObject.$Init($);$.port=0;$.family=$.address=""},Destroy:TObject.Destroy};function HL(){var R=null;R=require("http");return R};var wr=["Warning","Error","Message"];function Copy$P(s,d){d.s=s.s;d.l=s.l;return d}
function Clone$P($){return{s:$.s,l:$.l}}
var dk={$ClassName:"TTranslator",$Parent:TObject,$Init:function($){TObject.$Init($);$.NeedsSemicolon=false;$.Name="";$.E3=[];$.y4=[];$.J7=[];$.wk=[];$.Yw=$.rh=null},bx:function(S){return S.Yw.getTokenText()},YV:function(S){return S.Yw.getToken()},sn:function(S,s4){if(!(S.Yw.isIdentifier()||s4.indexOf(dk.YV(S))>=0))dk.qR(S,0)},On:function(S,TO){if(!(TO.indexOf(dk.YV(S))>=0))dk.qR(S,0)},dG:function(S,Lp){if(dk.YV(S)!=Lp)dk.qR(S,Lp)},VB:function(S){var R="";var mx=0;var L7=null,aj=0;var zD=null,EW=0;var AE=null,bS=0;var Rh=null;var FH=[],uy=[],bU=[];R="unit "+ua(S.Name)+";"+"\r\n"+"\r\n";R+="interface"+"\r\n"+"\r\n";bU=S.y4;var $t2;for(mx=0,$t2=bU.length;mx<$t2;mx++){L7=bU[mx];R=R+vU.O9$(L7)}
uy=S.wk;var $t3;for(aj=0,$t3=uy.length;aj<$t3;aj++){zD=uy[aj];R=R+vU.O9$(zD)}
if(S.J7.length>0){var Bv=[];R+="type"+"\r\n";vU.As(vU);Bv=S.J7;var $t4;for(EW=0,$t4=Bv.length;EW<$t4;EW++){AE=Bv[EW];R=R+vU.O9$(AE)}
vU.pE(vU)}
FH=S.E3;var $t5;for(bS=0,$t5=FH.length;bS<$t5;bS++){Rh=FH[bS];R=R+vU.O9$(Rh)}
return R},Jt:function(S){S.NeedsSemicolon=false;return S},qR:function(S,tn){var rM=null,AI="";rM=H.getLineAndCharacterOfPosition(S.rh,S.Yw.getTokenPos());AI=("Unknown token \""+dk.bx(S).toString()+"\" in this context ("+(rM.line+1).toString()+":"+(rM.character+1).toString()+")");if(tn>0)AI+=("; Expected ("+tn.toString()+")");console.trace("Error in "+S.Name);throw Exception.Create($New(Exception),AI)},fd:function(S){var R=null;dk.sn(S,[]);R=vU.e4$($New(yB),$AsIntf(S,"ju"));R.Name=dk.bx(S);if(dk.hO(S,54,false))R.Type=dk.ne(S);if(S.NeedsSemicolon)dk.On(S,[23,24].slice());return R},ez:function(S,tm){do{tm.push(dk.fd(S));if(dk.YV(S)==23)break;if(dk.YV(S)!=24)break;if(!dk.BF(S,false))break}while(!(dk.YV(S)==23||(!S.Yw.isIdentifier())||(!S.NeedsSemicolon)&&(!S.Yw.isIdentifier())))},tP:function(S){var R=null;var EQ=0,VA=false;dk.sn(S,[121,110,111,112,113].slice());if(dk.YV(S)==121)return dk.E4(S);EQ=0;switch(dk.YV(S)){case 112:EQ=0;dk.yo(S,[113].slice(),true);break;case 111:EQ=1;dk.yo(S,[113].slice(),true);break;case 110:EQ=2;dk.yo(S,[113].slice(),true);break}
VA=dk.YV(S)==113;if(VA)dk.BF(S,true);R=dk.AD(S);$As(R,yu).IsStatic=VA;$As(R,yu).Visibility=EQ;if(S.NeedsSemicolon)dk.On(S,[23,16].slice());return R},oM:function(S){var R=null;var Ri=[],Ri=[121,110,111,112,113,16,23].slice();dk.dG(S,73);R=vU.e4$($New(vQ),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,[83,106,15,25].slice(),true);if(dk.YV(S)==83){dk.BF(S,true);R.Extends.push(dk.L4(S))}
if(dk.YV(S)==106){dk.BF(S,true);R.Implements.push(dk.YG(S));while(dk.YV(S)==24){dk.BF(S,true);R.Implements.push(dk.YG(S))}}
if(dk.YV(S)==25){do{dk.Id(S)}while(!(dk.YV(S)!=24));dk.cZ(S,[15].slice(),true)}
dk.dG(S,15);dk.yo(S,Ri,false);while(dk.YV(S)!=16){R.Members.push(dk.tP(S));if(dk.YV(S)==23)dk.yo(S,Ri,false)}
dk.dG(S,16);return R},E4:function(S){var R=null;dk.dG(S,121);dk.hO(S,17,true);R=vU.e4$($New(XE),$AsIntf(S,"ju"));while(dk.BF(S,false)){R.ParameterList.push(dk.Tg(S));dk.On(S,[24,18,23].slice());if(dk.YV(S)==18)break}
dk.On(S,[18,23].slice());if(dk.YV(S)!=23)dk.hO(S,23,true);return R},n7:function(S){var R=null;dk.dG(S,122);R=vU.e4$($New(l6),$AsIntf(S,"ju"));dk.cZ(S,[102,108,74,87,73,81,125,126].slice(),true);switch(dk.YV(S)){case 102:case 108:case 74:R.Variables.push(dk.X6(S));break;case 87:R.Functions.push(dk.Cs(S));break;case 73:R.Classes.push(dk.oM(S));break;case 81:R.Enums.push(dk.jv(S));break;case 125:R.Modules.push(dk.Kb(S));break;case 126:R.Namespaces.push(dk.lr(S));break}
return R},jv:function(S){var R=null;R=dk.nA(S);return R},Cs:function(S){var R=null;dk.dG(S,87);R=vU.e4$($New(WV),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,[17,25].slice(),true);R.CallSignature=dk.fF(S);if(S.NeedsSemicolon)dk.On(S,[23].slice());return R},Kb:function(S){var R=null;var Tu=[],Tu=[82,102,108,74,132,87,73,107,81,125,126,89,16,23].slice();var tT=false,Rx=null;dk.dG(S,125);R=vU.e4$($New(iD),$AsIntf(S,"ju"));dk.yo(S,[9].slice(),true);R.IdentifierPath=dk.YG(S);dk.dG(S,15);dk.cZ(S,Tu,true);while(dk.YV(S)!=16){tT=dk.YV(S)==82;if(tT){dk.cZ(S,Tu.concat([77,56]),true);if(dk.YV(S)==77){tT=false;dk.BF(S,false);dk.cZ(S,Tu,true)}
if(dk.YV(S)==56){tT=false;dk.BF(S,false);dk.cZ(S,Tu,true)}}
switch(dk.YV(S)){case 102:case 108:R.Variables.push(dk.X6(S));break;case 74:dk.yo(S,[81].slice(),false);if(dk.YV(S)==81){R.Enums.push(dk.jv(S))}else{Rx=vU.e4$($New(hS),$AsIntf(S,"ju"));Rx.IsConst=true;dk.ez(S,Rx.AmbientBindingList);R.Variables.push(Rx)}
dk.cZ(S,Tu,true);break;case 132:R.TypeAliases.push(dk.t2(S));break;case 87:R.Functions.push(dk.Cs(S));break;case 126:R.Namespaces.push(dk.lU(S));dk.cZ(S,Tu,true);break;case 73:R.Classes.push(dk.W1(S));dk.cZ(S,Tu,true);break;case 125:R.Modules.push(dk.Kb(S));dk.cZ(S,Tu,true);break;case 107:R.Interfaces.push(dk.Pf(S));dk.cZ(S,Tu,true);break;case 89:dk.eA(S);if(!S.NeedsSemicolon)dk.cZ(S,Tu,true);break;case 81:dk.nA(S);dk.cZ(S,Tu,true);break}
if(dk.YV(S)==23)dk.cZ(S,Tu,true)}
dk.dG(S,16);return R},lr:function(S){var R=null;var dh=[],dh=[73,122,82,81,89,87,107,102,23,16].slice();var Cy=false;dk.dG(S,126);dk.yo(S,[9].slice(),true);R=vU.e4$($New(vF),$AsIntf(S,"ju"));R.Name=dk.YG(S);dk.dG(S,15);dk.cZ(S,dh,true);while(dk.YV(S)!=16){Cy=dk.YV(S)==82;if(Cy)dk.cZ(S,dh,true);switch(dk.YV(S)){case 73:R.Classes.push(dk.oM(S));break;case 81:dk.nA(S);break;case 87:R.Functions.push(dk.Cs(S));break;case 89:dk.eA(S);break;case 107:R.Interfaces.push(dk.Pf(S));break;case 102:R.Variables.push(dk.X6(S));break}
if(dk.YV(S)==23)dk.cZ(S,dh,true)}
dk.dG(S,16);return R},AD:function(S){var R=null;var AF="";dk.sn(S,[]);AF=dk.bx(S);dk.cZ(S,[54,17,23].slice(),true);if(dk.YV(S)==17){R=dk.vI(S)}else R=dk.zk(S);R.Name=AF;if(S.NeedsSemicolon)dk.sn(S,[23,16,24].slice());return R},vI:function(S){var R=null;dk.dG(S,17);R=vU.e4$($New(Wd),$AsIntf(S,"ju"));R.CallSignature=dk.fF(S);dk.On(S,[18,23,112,111,110].slice());return R},zk:function(S){var R=null;R=vU.e4$($New(DE),$AsIntf(S,"ju"));if(dk.YV(S)==54)R.Type=dk.u7(S);return R},X6:function(S){var R=null;dk.On(S,[102,108,74].slice());R=vU.e4$($New(hS),$AsIntf(S,"ju"));R.IsConst=dk.YV(S)==74;dk.BF(S,true);dk.ez(S,R.AmbientBindingList);return R},fF:function(S){var R=null;dk.On(S,[17,25].slice());R=vU.e4$($New(IM),$AsIntf(S,"ju"));if(dk.YV(S)==25){do{R.TypeParameters.push(dk.Id(S))}while(!(dk.YV(S)!=24));dk.hO(S,17,true)}
dk.dG(S,17);dk.yo(S,[112,110,111,22,18].slice(),true);while(dk.YV(S)!=18){R.ParameterList.push(dk.M4(S));if(dk.YV(S)==24)dk.yo(S,[22].slice(),false)}
dk.On(S,[18].slice());dk.cZ(S,[54,23].slice(),true);if(dk.YV(S)==54)R.Type=dk.u7(S);return R},W1:function(S){var R=null;var eM=[],eM=[83,106,15,25].slice();dk.dG(S,73);R=vU.e4$($New(H1),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,eM,true);if(dk.YV(S)==25){eM.push(25);do{R.TypeParameters.push(dk.Id(S))}while(!(dk.YV(S)!=24));dk.dG(S,27);dk.cZ(S,eM,true)}
if(dk.YV(S)==83){dk.BF(S,true);R.Extends.push(dk.L4(S))}
if(dk.YV(S)==106){dk.BF(S,true);R.Implements.push(dk.L4(S));while(dk.YV(S)==24){dk.BF(S,true);R.Implements.push(dk.L4(S))}}
dk.dG(S,15);dk.dq(S,R);return R},tr:function(S){var R=null;var Cr=[],ER=[],ER=[72,75,76,77,78,82,85,88,105].slice();var A7="",Fx=false;dk.sn(S,[92,9,19].concat(ER));if(dk.YV(S)==19)return dk.F2(S);A7=dk.bx(S);dk.cZ(S,[25,53,54,17,23].slice(),true);if(dk.YV(S)==25){do{Cr.push(dk.Id(S))}while(!(dk.YV(S)!=24));dk.cZ(S,[53,54,17,23].slice(),true)}
Fx=dk.YV(S)==53;if(Fx)dk.cZ(S,[54,23].slice(),true);switch(dk.YV(S)){case 54:case 23:R=dk.u3(S);$As(R,PW).Nullable=Fx;break;case 17:if((A7).toLowerCase()=="constructor"){R=dk.Ol(S)}else R=dk.r3(S);break}
R.Name=A7;R.TypeParameters=Cr;if(S.NeedsSemicolon)dk.On(S,[23,24,16].slice());return R},dq:function(S,nF){var Yl=[],Yl=[92,9,82,16,23,19].slice();var wV=0,jV=false,kf=null;dk.dG(S,15);dk.yo(S,Yl,false);while(dk.YV(S)!=16){wV=0;switch(dk.YV(S)){case 112:wV=0;dk.yo(S,[92].slice(),true);break;case 111:wV=1;dk.yo(S,[92].slice(),true);break;case 110:wV=2;dk.yo(S,[92].slice(),true);break}
jV=dk.YV(S)==113;if(jV)dk.yo(S,[92,17].slice(),true);kf=dk.tr(S);kf.Visibility=wV;kf.IsStatic=jV;nF.Members.push(kf);if(dk.YV(S)==23)dk.yo(S,Yl,false)}},Ol:function(S){var R=null;R=vU.e4$($New(zm),$AsIntf(S,"ju"));R.Type=dk.WI(S);if(S.NeedsSemicolon)dk.On(S,[23,16].slice());return R},Ne:function(S){var R=null;dk.dG(S,92);R=vU.e4$($New(zm),$AsIntf(S,"ju"));dk.cZ(S,[17,25].slice(),true);if(dk.YV(S)==25){do{R.TypeParameters.push(dk.Id(S))}while(!(dk.YV(S)!=24));dk.cZ(S,[17].slice(),true)}
dk.dG(S,17);dk.yo(S,[112,110,111,22,18].slice(),true);while(dk.YV(S)!=18){R.ParameterList.push(dk.M4(S));if(dk.YV(S)==24)dk.yo(S,[22].slice(),false)}
dk.dG(S,18);dk.hO(S,54,true);R.Type=dk.ne(S);return R},JY:function(S){var R=null;dk.dG(S,92);R=vU.e4$($New(Y6),$AsIntf(S,"ju"));dk.hO(S,17,true);while(dk.yo(S,[22].slice(),false)){R.ParameterList.push(dk.Tg(S));dk.On(S,[24,18,23].slice());if(dk.YV(S)==18)break}
dk.On(S,[18,23].slice());if(dk.cZ(S,[54,34].slice(),false))R.ResultType=dk.u7(S);return R},Mu:function(S){var Zk=[],Zk=[82,122,107,125,89,1].slice();dk.cZ(S,Zk,true);while(dk.YV(S)!=1){switch(dk.YV(S)){case 82:dk.cZ(S,Zk,true);continue;break;case 122:S.E3.push(dk.n7(S));break;case 107:S.J7.push(dk.Pf(S));break;case 125:S.wk.push(dk.ii(S));break;case 89:S.y4.push(dk.eA(S));break}
if(([16,23].indexOf(dk.YV(S))>=0))dk.cZ(S,Zk,true)}},nA:function(S){var R=null;var U6Q=[],U6Q=[81,77,78,89,96].slice();dk.dG(S,81);R=vU.e4$($New(UV),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.hO(S,15,true);dk.yo(S,[16].concat(U6Q),true);if(dk.YV(S)!=16){do{R.Items.push(dk.pC(S));if(dk.YV(S)==16)break}while(!(!dk.yo(S,U6Q,false)))}
dk.dG(S,16);return R},pC:function(S){var R=null;var IV=[],IV=[81,77,78,89,96].slice();dk.sn(S,IV);R=vU.e4$($New(mK),$AsIntf(S,"ju"));R.Name=dk.bx(S);if(dk.hO(S,56,false)){dk.hO(S,8,true);R.Value=dk.bx(S);dk.XH(S)}
dk.On(S,[24,16].slice());return R},ky:function(S){var R=null;dk.dG(S,82);R=vU.e4$($New(Za),$AsIntf(S,"ju"));dk.yo(S,[77].slice(),true);R.sB=dk.YV(S)==82||(dk.bx(S)).toLowerCase()=="default";if(R.sB)dk.BF(S,true);R.Name=dk.bx(S);dk.hO(S,23,true);return R},TJ:function(S){var R=null;dk.dG(S,87);R=vU.e4$($New(Lh),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,[17].slice(),true);R.Type=dk.WI(S);return R},Tg:function(S){var R=null;var ZF=false;var aZ=[],aZ=[53,24,54,18].slice();dk.sn(S,[22].slice());ZF=dk.YV(S)==22;if(ZF)dk.BF(S,true);R=vU.e4$($New(kK),$AsIntf(S,"ju"));R.Name=dk.bx(S);dk.cZ(S,aZ,true);R.IsOptional=dk.YV(S)==53;aZ.push(53);if(R.IsOptional)dk.cZ(S,aZ,true);if(dk.YV(S)==54)R.Type=dk.u7(S);return R},WI:function(S){var R=null;dk.dG(S,17);R=vU.e4$($New(vP),$AsIntf(S,"ju"));while(dk.yo(S,[22].slice(),false)){R.ParameterList.push(dk.Tg(S));dk.On(S,[24,18,23].slice());if(dk.YV(S)==18)break}
dk.On(S,[18,23].slice());if(dk.cZ(S,[54,34].slice(),false))R.ResultType=dk.u7(S);return R},yo:function(S,Cm,fL){var R=false;dk.XH(S);R=S.Yw.isIdentifier()||Cm.indexOf(dk.YV(S))>=0;if((!R)&&fL)dk.qR(S,0);return R},BF:function(S,Yg){var R=false;dk.XH(S);R=S.Yw.isIdentifier();if((!R)&&Yg)dk.qR(S,69);return R},YG:function(S){var R="";dk.sn(S,[9,97].slice());R=dk.bx(S);while(dk.hO(S,21,false)){dk.BF(S,true);R+="."+dk.bx(S)}
return R},eA:function(S){var R=null;dk.dG(S,89);R=vU.e4$($New(wO),$AsIntf(S,"ju"));dk.yo(S,[37,9].slice(),true);switch(dk.YV(S)){case 37:R.Name="*";dk.hO(S,116,true);dk.BF(S,true);dk.hO(S,133,true);dk.hO(S,9,true);break;case 9:R.Name=S.Yw.getTokenValue();break;default:R.Name=dk.bx(S);dk.hO(S,56,true);dk.yo(S,[127].slice(),true);if(dk.YV(S)==127){dk.hO(S,17,false);dk.hO(S,9,false);dk.hO(S,18,false)}else R.Value=dk.YG(S)}
dk.hO(S,23,true);return R},F2:function(S){var R=null;dk.dG(S,19);R=vU.e4$($New(CL),$AsIntf(S,"ju"));R.IndexSignature=dk.ol(S);if(S.NeedsSemicolon)dk.sn(S,[23,16,24].slice());return R},ol:function(S){var R=null;dk.dG(S,19);R=vU.e4$($New(mJ),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.hO(S,54,true);dk.cZ(S,[130,128].slice(),true);R.IsStringIndex=dk.YV(S)==130;dk.hO(S,20,true);dk.hO(S,54,true);R.Type=dk.ne(S);return R},Pf:function(S){var R=null;dk.dG(S,107);R=vU.e4$($New(he),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,[25,83,15].slice(),true);if(dk.YV(S)==25){do{R.TypeParameters.push(dk.Id(S))}while(!(dk.YV(S)!=24));dk.cZ(S,[83,15].slice(),true)}
if(dk.YV(S)==83){dk.BF(S,true);R.Extends.push(dk.L4(S));while(dk.YV(S)==24){dk.BF(S,true);R.Extends.push(dk.L4(S))}}
dk.dG(S,15);R.Type=dk.Ul(S);dk.dG(S,16);return R},r3:function(S){var R=null;R=vU.e4$($New(oW),$AsIntf(S,"ju"));R.CallSignature=dk.fF(S);if(S.NeedsSemicolon)dk.On(S,[23,16].slice());return R},ii:function(S){var R=null;var uU=[],uU=[73,82,81,89,125,87,107,102,23,16].slice();dk.dG(S,125);R=vU.e4$($New(fi),$AsIntf(S,"ju"));dk.yo(S,[9].slice(),true);R.Name=dk.YG(S);dk.dG(S,15);dk.cZ(S,uU,true);while(dk.YV(S)!=16){switch(dk.YV(S)){case 73:R.Classes.push(dk.W1(S));break;case 82:R.Exports.push(dk.ky(S));break;case 81:dk.nA(S);break;case 87:R.Functions.push(dk.TJ(S));break;case 89:dk.eA(S);break;case 125:R.Modules.push(dk.ii(S));break;case 107:R.Interfaces.push(dk.Pf(S));break;case 102:R.Variables.push(dk.Ld(S));break}
dk.cZ(S,uU,true)}
dk.dG(S,16);return R},lU:function(S){var R=null;var WZ=[],WZ=[73,122,82,81,89,87,107,23,16].slice();dk.dG(S,126);dk.yo(S,[9].slice(),true);R=vU.e4$($New(jD),$AsIntf(S,"ju"));R.Name=dk.YG(S);dk.dG(S,15);dk.cZ(S,WZ,true);while(dk.YV(S)!=16){switch(dk.YV(S)){case 73:R.Classes.push(dk.W1(S));break;case 81:dk.nA(S);break;case 87:R.Functions.push(dk.TJ(S));break;case 89:dk.eA(S);break;case 107:R.Interfaces.push(dk.Pf(S));break}
dk.cZ(S,WZ,true)}
dk.dG(S,16);return R},Ul:function(S){var R=null;var P4=[],P4=[9,8,92,25,17,19,16].slice();var Qn=[],Qn=[72,73,75,77,78,82,85,86,89,90].slice();dk.dG(S,15);R=vU.e4$($New(mL),$AsIntf(S,"ju"));dk.yo(S,P4.concat(Qn),true);while(dk.YV(S)!=16){R.Members.push(dk.xt(S));if(([23,24].indexOf(dk.YV(S))>=0))dk.yo(S,P4.concat(Qn),true)}
dk.dG(S,16);return R},M4:function(S){var R=null;dk.sn(S,[112,110,111,22].slice());R=vU.e4$($New(EJ),$AsIntf(S,"ju"));R.Name=dk.bx(S);R.IsRest=dk.YV(S)==22;if(R.IsRest){dk.BF(S,true);R.Name=dk.bx(S);if(dk.hO(S,54,false))R.Type=dk.ne(S);dk.dG(S,18);return R}
dk.sn(S,[112,110,111].slice());switch(dk.YV(S)){case 112:R.AccessibilityModifier=0;dk.BF(S,false);break;case 110:R.AccessibilityModifier=1;dk.BF(S,false);break;case 111:R.AccessibilityModifier=2;dk.BF(S,false);break}
dk.sn(S,[]);dk.cZ(S,[53,54,56,24,18].slice(),true);R.IsOptional=dk.YV(S)==53;if(R.IsOptional)dk.cZ(S,[54,56,24,18].slice(),true);if(dk.YV(S)==54)R.Type=dk.u7(S);dk.On(S,[56,24,18].slice());if(dk.YV(S)==56){dk.BF(S,true);R.DefaultValue=dk.bx(S)}
dk.On(S,[24,18].slice());return R},us:function(S){var R=null;var KC=[],KC=[69,9,117,128,130,120,103,101,97,15,17,19].slice();var o9=null;dk.On(S,KC);switch(dk.YV(S)){case 17:R=dk.u7(S);dk.dG(S,18);dk.XH(S);break;case 69:case 97:R=ym.aS($New(ym),$AsIntf(S,"ju"),dk.YG(S));if(dk.YV(S)==25){do{$As(R,ym).Arguments.push(dk.al(S))}while(!(dk.YV(S)!=24));dk.dG(S,27);dk.XH(S)}
break;case 9:R=ym.aS($New(ym),$AsIntf(S,"ju"),S.Yw.getTokenValue());dk.XH(S);break;case 117:R=vU.e4$($New(kc),$AsIntf(S,"ju"));dk.XH(S);break;case 128:R=vU.e4$($New(NR),$AsIntf(S,"ju"));dk.XH(S);break;case 103:R=null;dk.XH(S);break;case 101:R=vU.e4$($New(NV),$AsIntf(S,"ju"));$As(R,NV).Type=dk.u7(S);break;case 130:R=vU.e4$($New(uF),$AsIntf(S,"ju"));dk.XH(S);break;case 120:R=vU.e4$($New(Ko),$AsIntf(S,"ju"));dk.XH(S);break;case 15:R=dk.Ul(S);dk.XH(S);break;case 19:R=dk.qB(S);dk.XH(S);break}
while(dk.YV(S)==19){o9=R;R=vU.e4$($New(DX),$AsIntf(S,"ju"));$As(R,DX).Type=o9;dk.hO(S,20,true);dk.XH(S)}
return R},u3:function(S){var R=null;dk.On(S,[54,23].slice());R=vU.e4$($New(PW),$AsIntf(S,"ju"));if(dk.YV(S)==23)return R;R.Type=dk.u7(S);if(S.NeedsSemicolon)dk.sn(S,[23,16,24].slice());return R},cZ:function(S,Ki,Q1){var R=false;R=Ki.indexOf(dk.XH(S))>=0;if((!R)&&Q1)dk.qR(S,0);return R},hO:function(S,pX,Nz){var R=false;R=dk.XH(S)==pX;if((!R)&&Nz)dk.qR(S,pX);return R},XH:function(S){var R=0;R=S.Yw.scan();return R},qB:function(S){var R=null;dk.dG(S,19);R=vU.e4$($New(kY),$AsIntf(S,"ju"));do{R.Types.push(dk.u7(S))}while(!(dk.YV(S)==20));dk.dG(S,20);return R},u7:function(S){var R=null;var tXY=[],tXY=[69,9,117,128,130,120,103,101,97,92,15,17,19].slice();var Fg=0,KI=false,bh=null;Fg=S.Yw.getTextPos();dk.cZ(S,tXY,true);if(dk.YV(S)==17){KI=true;dk.yo(S,tXY.concat([112,111,110,18,22]),true);if(!([112,111,110,18,22].indexOf(dk.YV(S))>=0)){if(S.Yw.isIdentifier()){dk.cZ(S,[25,47,54,24,53,21,19,18].slice(),true);KI=([54,53,24,18].indexOf(dk.YV(S))>=0)}else KI=!dk.YV(S)==17}
S.Yw.setTextPos(Fg);dk.cZ(S,tXY,true);if(KI)return dk.WI(S)}
if(dk.YV(S)==92)return dk.JY(S);R=dk.us(S);while(dk.YV(S)==47){if(!$Is(R,sq)){bh=R;R=vU.e4$($New(sq),$AsIntf(S,"ju"));$As(R,sq).Types.push(bh)}
dk.cZ(S,tXY,true);$As(R,sq).Types.push(dk.us(S))}
return R},t2:function(S){var R=null;dk.dG(S,132);R=vU.e4$($New(nc),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,[25,56].slice(),true);if(dk.YV(S)==25){R.TypeParameters.push(dk.Id(S));dk.hO(S,56,true)}
R.Type=dk.u7(S);if(S.NeedsSemicolon)dk.dG(S,23);return R},ne:function(S){var R=null;dk.dG(S,54);R=dk.u7(S);return R},al:function(S){var R=null;dk.On(S,[25,24].slice());R=vU.e4$($New(YH),$AsIntf(S,"ju"));R.Type=dk.u7(S);dk.On(S,[27,24].slice());return R},xt:function(S){var R=null;var eI=[],bb=[],bb=[9,8,110,92,25,17,19].slice();var lc=[],lc=[72,73,75,77,78,82,85,86,89,90].slice();var kC=0,pN=false,UJ="",Iz=false;kC=S.Yw.getTextPos();dk.sn(S,bb.concat(lc));if(dk.YV(S)==92){pN=!dk.cZ(S,[53,54].slice(),false);S.Yw.setTextPos(kC-3);S.Yw.scan();if(pN)return dk.Ne(S)}
if(([17,25].indexOf(dk.YV(S))>=0))return dk.fF(S);if(dk.YV(S)==19)return dk.ol(S);if(S.Yw.isIdentifier()||[9,8,92].concat(lc).indexOf(S.Yw.getToken())>=0){UJ=dk.bx(S);dk.cZ(S,[25,53,54,17].slice(),true);Iz=dk.YV(S)==53;if(Iz)dk.cZ(S,[54,17,25].slice(),true);switch(dk.YV(S)){case 54:R=dk.u3(S);$As(R,PW).Nullable=Iz;break;case 17:case 25:R=dk.r3(S);break}
R.TypeArguments=eI;R.Name=UJ}
return R},Id:function(S){var R=null;dk.On(S,[25,24].slice());R=vU.e4$($New(I2),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.cZ(S,[83,27,24].slice(),true);if(dk.YV(S)==83){R.ExtendsType=dk.u7(S);dk.On(S,[27,24].slice())}
return R},L4:function(S){var R=null;dk.sn(S,[]);R=vU.e4$($New(rj),$AsIntf(S,"ju"));R.Name=dk.YG(S);if(dk.YV(S)==25){do{R.Arguments.push(dk.al(S))}while(!(dk.YV(S)!=24));dk.XH(S)}
return R},Ld:function(S){var R=null;dk.dG(S,102);R=vU.e4$($New(WL),$AsIntf(S,"ju"));dk.BF(S,true);R.Name=dk.bx(S);dk.hO(S,54,true);R.Type=dk.u7(S);return R},WD:function(S,sh){var R="";S.Yw=H.createScanner(0,true,0,sh);S.rh=H.createSourceFile("main",sh,0);try{dk.Mu$(S)}catch($e){var Fp=$W($e);console.error(Fp.FMessage)}
R=dk.VB$(S);return R},Destroy:TObject.Destroy,VB$:function($){return $.ClassType.VB($)},Mu$:function($){return $.ClassType.Mu($)}};dk.$Intf={ju:[]}
function ua(fq){var R="";var Hl=[];if(fq.length==0)return"Unknown";Hl=(fq).split("\\");R=Hl[(Hl.length-1)];Hl=(fq).split("\/");R=Hl[(Hl.length-1)];R=StrReplace(R,"-","_");R=$StrSet(R,1,(R.charAt(0)).toUpperCase());return R};var Tw=["vPublic","vProtected","vPrivate"];var vU={$ClassName:"TCustomDeclaration",$Parent:TObject,$Init:function($){TObject.$Init($);$.NM=null},As:function(S){++nC},ai:function(S,jF){OO.push(jF)},e4:function(S,JJ){S.NM=JJ;return S},pE:function(S){--nC},g7:function(S){OO.pop()},ZH:function(S){var R="";R=DupeString("  ",nC);return R},cV:function(S){var R="";var qk=0;R="";if(OO.length>0){R+=OO[0];var $t6;for(qk=0+1,$t6=OO.length;qk<$t6;qk++){R+="."+OO[qk]}}
return R},Destroy:TObject.Destroy,e4$:function($){return $.ClassType.e4.apply($.ClassType,arguments)},O9$:function($){return $.ClassType.O9($)}};var Qb={$ClassName:"TCustomType",$Parent:vU,$Init:function($){vU.$Init($)},Destroy:TObject.Destroy,e4:vU.e4,O9:vU.O9};var t6={$ClassName:"TCustomNamedType",$Parent:Qb,$Init:function($){Qb.$Init($)},O9:function(S){var R="";R="J"+t6.IO$(S);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)},IO$:function($){return $.ClassType.IO($)}};var FL={$ClassName:"TPredefinedType",$Parent:t6,$Init:function($){t6.$Init($)},O9:function(S){var R="";R=t6.IO$(S);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)},IO:t6.IO};var kc={$ClassName:"TVariantType",$Parent:FL,$Init:function($){FL.$Init($)},IO:function(S){var R="";R="Variant";return R},Destroy:TObject.Destroy,e4:vU.e4,O9:FL.O9,IO$:function($){return $.ClassType.IO($)}};var GK={$ClassName:"TNamedDeclaration",$Parent:vU,$Init:function($){vU.$Init($);$.Name=""},Destroy:TObject.Destroy,e4:vU.e4,O9:vU.O9};var WL={$ClassName:"TVariableDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Type=null},O9:function(S){var R="";console.log("not implemented: TVariableDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var sq={$ClassName:"TUnionType",$Parent:Qb,$Init:function($){Qb.$Init($);$.Types=[]},O9:function(S){var R="";var Ga=0;var dP=null;R="Variant {";var $t7;for(Ga=0,$t7=(S.Types.length-1);Ga<$t7;Ga++){R+=(S.Types[Ga])?vU.O9$(S.Types[Ga]):"void";R+=" or "}
dP=S.Types[(S.Types.length-1)];R+=(dP)?vU.O9$(dP):"void";R+="}";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var rj={$ClassName:"TTypeReference",$Parent:vU,$Init:function($){vU.$Init($);$.Name="";$.Arguments=[]},O9:function(S){var R="";var RE=0;R="J"+S.Name;if(S.Arguments.length>0){R+=" {"+vU.O9$(S.Arguments[0]);var $t8;for(RE=0+1,$t8=S.Arguments.length;RE<$t8;RE++){R+=", "+vU.O9$(S.Arguments[RE])}
R+="} "}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var I2={$ClassName:"TTypeParameter",$Parent:vU,$Init:function($){vU.$Init($);$.Name="";$.ExtendsType=null},O9:function(S){var R="";R=S.Name;if(S.ExtendsType)R+=" extends "+vU.O9$(S.ExtendsType);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var NV={$ClassName:"TTypeOfType",$Parent:t6,$Init:function($){t6.$Init($);$.Type=null},IO:function(S){var R="";R="type of";return R},Destroy:TObject.Destroy,e4:vU.e4,O9:t6.O9,IO$:function($){return $.ClassType.IO($)}};var YH={$ClassName:"TTypeArgument",$Parent:vU,$Init:function($){vU.$Init($);$.Type=null},O9:function(S){var R="";if(S.Type){R=vU.O9$(S.Type)}else R="Variant";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var nc={$ClassName:"TTypeAlias",$Parent:GK,$Init:function($){GK.$Init($);$.Type=null;$.TypeParameters=[]},O9:function(S){var R="";R=vU.ZH(S.ClassType)+S.Name+" = "+vU.O9$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var kY={$ClassName:"TTupleType",$Parent:Qb,$Init:function($){Qb.$Init($);$.Types=[]},O9:function(S){var R="";R="TupletType";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var uF={$ClassName:"TStringType",$Parent:FL,$Init:function($){FL.$Init($)},IO:function(S){var R="";R="String";return R},Destroy:TObject.Destroy,e4:vU.e4,O9:FL.O9,IO$:function($){return $.ClassType.IO($)}};var nM={$ClassName:"TCustomTypeMember",$Parent:GK,$Init:function($){GK.$Init($);$.TypeParameters=[];$.Visibility=0;$.IsStatic=false;$.TypeArguments=[]},e4:function(S,JD){vU.e4(S,JD);S.Visibility=0;return S},Destroy:TObject.Destroy,e4$:function($){return $.ClassType.e4.apply($.ClassType,arguments)},O9:vU.O9};var vE={$ClassName:"TClassTypeMember",$Parent:nM,$Init:function($){nM.$Init($);$.Visibility=0;$.IsStatic=false},Destroy:TObject.Destroy,e4:nM.e4,O9:vU.O9};var PW={$ClassName:"TPropertyMemberDeclaration",$Parent:vE,$Init:function($){vE.$Init($);$.Nullable=false;$.Type=null},O9:function(S){var R="";var Rq=0;var sy=null;R=vU.ZH(S.ClassType)+Ay(S.Name);if(S.TypeArguments.length>0){var Ws=[];R+="{<";Ws=S.TypeArguments;var $t9;for(Rq=0,$t9=Ws.length;Rq<$t9;Rq++){sy=Ws[Rq];R+=vU.O9$(sy)}
R+=">}"}
R+=": ";if(S.Type){if($Is(S.Type,mL))R+="record"+"\r\n";R+=vU.O9$(S.Type)}else R+="Variant";R+=";";if(S.Nullable)R+=" \/\/ nullable";R+="\r\n";return R},Destroy:TObject.Destroy,e4:nM.e4,O9$:function($){return $.ClassType.O9($)}};var EJ={$ClassName:"TParameter",$Parent:GK,$Init:function($){GK.$Init($);$.DefaultValue="";$.IsRest=$.IsOptional=false;$.AccessibilityModifier=0;$.Type=null},O9:function(S){var R="";R=S.Name+": ";if(S.Type){if($Is(S.Type,mL))R+="record"+"\r\n";R+=vU.O9$(S.Type)}else R+="Variant";if(S.DefaultValue!="")R+=" = "+S.DefaultValue;if(S.IsRest)R+=" {...}";return R},O5:function(S,ZDM){var R="";var j8=null;R=Ay(S.Name);if(!ZDM){R+=": ";if(S.Type){if($Is(S.Type,mL))R+="record"+"\r\n";if($Is(S.Type,vP)){j8=$As(S.Type,vP).ResultType;R+=(j8)?"function":"procedure"}
R+=vU.O9$(S.Type)}else R+="Variant"}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var mL={$ClassName:"TObjectType",$Parent:Qb,$Init:function($){Qb.$Init($);$.Members=[]},O9:function(S){var R="";var EL=0;var yh=null,hL=null;var ch=[];vU.As(S.ClassType);ch=S.Members;var $tA;for(EL=0,$tA=ch.length;EL<$tA;EL++){yh=ch[EL];if($Is(yh,IM)){R+=vU.ZH(S.ClassType);hL=$As(yh,IM).Type;R+=(hL)?"function":"procedure";R+=vU.O9$(yh)+"\r\n"}else R+=vU.O9$(yh)}
vU.pE(S.ClassType);R+=vU.ZH(S.ClassType)+"end;";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var jD={$ClassName:"TNamespaceDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Namespaces=[];$.Interfaces=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.Enums=[]},O9:function(S){var R="";var k1=0;var JO=null,VW=0;var vh=null,bl=0;var vv=null,Sd=0;var KW=null,Kc=0;var rm=null;var WH=[];vU.ai(S.ClassType,S.Name);if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var Dk=[],wR=[],O4=[];R+="type"+"\r\n";vU.As(S.ClassType);O4=S.Enums;var $tB;for(k1=0,$tB=O4.length;k1<$tB;k1++){JO=O4[k1];R+=vU.O9$(JO)}
wR=S.Classes;var $tC;for(VW=0,$tC=wR.length;VW<$tC;VW++){vh=wR[VW];R+=vU.O9$(vh)}
Dk=S.Interfaces;var $tD;for(bl=0,$tD=Dk.length;bl<$tD;bl++){vv=Dk[bl];R+=vU.O9$(vv)}
vU.pE(S.ClassType)}
if(S.Functions.length>0){var j6=[];j6=S.Functions;var $tE;for(Sd=0,$tE=j6.length;Sd<$tE;Sd++){KW=j6[Sd];R+=vU.O9$(KW)}
R+="\r\n"}
WH=S.Namespaces;var $tF;for(Kc=0,$tF=WH.length;Kc<$tF;Kc++){rm=WH[Kc];R+=vU.O9$(rm)}
R+="\r\n";vU.g7(S.ClassType);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var ym={$ClassName:"TNamedType",$Parent:t6,$Init:function($){t6.$Init($);$.Arguments=[];$.Mw=""},aS:function(S,qf,KS){vU.e4(S,qf);S.Mw=KS;return S},O9:function(S){var R="";var ph=0;var mr=null;R=t6.O9(S);if(S.Arguments.length>0){var Ow=[];R+="{<";Ow=S.Arguments;var $tG;for(ph=0,$tG=Ow.length;ph<$tG;ph++){mr=Ow[ph];R+=vU.O9$(mr)}
R+=">}"}
return R},IO:function(S){var R="";R=S.Mw;return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)},IO$:function($){return $.ClassType.IO($)}};var fi={$ClassName:"TModuleDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Modules=[];$.Variables=[];$.Exports=[];$.Functions=[];$.Interfaces=[];$.Classes=[]},O9:function(S){var R="";var Rp=0;var hu=null,dU=0;var im=null,Sz=0;var nN=null;R="";if(S.Classes.length+S.Interfaces.length>0){var C1=[],y9=[];R+="type"+"\r\n";vU.As(S.ClassType);y9=S.Classes;var $tH;for(Rp=0,$tH=y9.length;Rp<$tH;Rp++){hu=y9[Rp];R=R+vU.O9$(hu)}
C1=S.Interfaces;var $tI;for(dU=0,$tI=C1.length;dU<$tI;dU++){im=C1[dU];R=R+vU.O9$(im)}
vU.pE(S.ClassType)}
if(S.Variables.length>0){var Lv=[];R+="var"+"\r\n";vU.As(S.ClassType);Lv=S.Variables;var $tJ;for(Sz=0,$tJ=Lv.length;Sz<$tJ;Sz++){nN=Lv[Sz];R=R+vU.O9$(nN)}
vU.pE(S.ClassType)}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var oW={$ClassName:"TMethodDeclaration",$Parent:vE,$Init:function($){vE.$Init($);$.CallSignature=null},O9:function(S){var R="";var wW="";var BS="";var Fq=0,rS=0;var LU=null,LN=0;var En=[];Fq=0;En=S.CallSignature.ParameterList;var $tK;for(rS=0,$tK=En.length;rS<$tK;rS++){LU=En[rS];if(LU.IsOptional)++Fq}
wW=vU.ZH(S.ClassType);wW+=(S.CallSignature.Type)?"function":"procedure";wW+=" "+S.Name;BS=(Fq>0)?" overload;":"";BS+="\r\n";R="";var $tL;for(LN=0,$tL=Fq;LN<=$tL;LN++){R+=wW+IM.Lw(S.CallSignature,LN)+BS}
return R},Destroy:TObject.Destroy,e4:nM.e4,O9$:function($){return $.ClassType.O9($)}};var he={$ClassName:"TInterfaceDeclaration",$Parent:vU,$Init:function($){vU.$Init($);$.TypeParameters=[];$.Name="";$.Extends=[];$.Type=null},O9:function(S){var R="";var tB=0;var JH=null,e7=0;R+=vU.ZH(S.ClassType)+"J"+S.Name;if(S.TypeParameters.length>0){var VG=[];R+="{<";VG=S.TypeParameters;var $tM;for(tB=0,$tM=VG.length;tB<$tM;tB++){JH=VG[tB];R+=vU.O9$(JH)}
R+=">}"}
R+=" = class external";if(S.Extends.length>0){R+="(";R+=vU.O9$(S.Extends[0]);var $tN;for(e7=0+1,$tN=S.Extends.length;e7<$tN;e7++){R+=", "+vU.O9$(S.Extends[e7])}
R+=")"}
R+="\r\n";R+=vU.O9$(S.Type);R+="\r\n"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var mJ={$ClassName:"TIndexSignature",$Parent:nM,$Init:function($){nM.$Init($);$.IsStringIndex=false;$.Type=null},O9:function(S){var R="";R=vU.ZH(S.ClassType)+"\/\/ ";R+="property Item["+S.Name+": ";R+=(S.IsStringIndex)?"String":"Integer";R+="]: "+vU.O9$(S.Type)+";"+"\r\n";return R},Destroy:TObject.Destroy,e4:nM.e4,O9$:function($){return $.ClassType.O9($)}};var CL={$ClassName:"TIndexMemberDeclaration",$Parent:vE,$Init:function($){vE.$Init($);$.IndexSignature=null},O9:function(S){var R="";R=vU.O9$(S.IndexSignature)+";"+"\r\n";return R},Destroy:TObject.Destroy,e4:nM.e4,O9$:function($){return $.ClassType.O9($)}};var wO={$ClassName:"TImportDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Value=""},O9:function(S){var R="";console.log("not implemented: TImportDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var vP={$ClassName:"TFunctionType",$Parent:t6,$Init:function($){t6.$Init($);$.ParameterList=[];$.ResultType=null},O9:function(S){var R="";var jb=0;if(S.ParameterList.length>0){R="("+kK.iA(S.ParameterList[0],false);var $tO;for(jb=0+1,$tO=S.ParameterList.length;jb<$tO;jb++){R+="; "+kK.iA(S.ParameterList[jb],false)}
R+=")"}
if(S.ResultType)R+=": "+vU.O9$(S.ResultType);return R},gA:function(S,IL){var R="";var V1=false;var Fw=0,yC=0;Fw=0;if(S.ParameterList.length>0){if(!(S.ParameterList[0].IsOptional&&IL==0)){Fw+=(S.ParameterList[0].IsOptional?1:0);V1=S.ParameterList.length>=2&&kx(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[0].IsOptional)||Fw<IL);R="("+kK.iA(S.ParameterList[0],V1);var $tP;for(yC=0+1,$tP=S.ParameterList.length;yC<$tP;yC++){if(S.ParameterList[yC].IsOptional&&Fw>=IL)break;Fw+=(S.ParameterList[yC].IsOptional?1:0);R+=(V1)?", ":"; ";V1=yC+1<S.ParameterList.length&&kx(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[yC].IsOptional)||Fw<IL);R+=kK.iA(S.ParameterList[yC],V1)}
R+=")"}}
if(S.ResultType)R+=": "+vU.O9$(S.ResultType);return R},IO:function(S){var R="";R="function";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)},IO$:function($){return $.ClassType.IO($)}};var kK={$ClassName:"TFunctionParameter",$Parent:GK,$Init:function($){GK.$Init($);$.Type=null;$.IsOptional=false},O9:function(S){var R="";R=Ay(S.Name)+": ";if(S.Type){if($Is(S.Type,mL))R+="record"+"\r\n";R+=vU.O9$(S.Type)}else R+="Variant";return R},iA:function(S,llA){var R="";R=Ay(S.Name);if(!llA){R+=": ";if(S.Type){if($Is(S.Type,mL))R+="record"+"\r\n";R+=vU.O9$(S.Type)}else R+="Variant"}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var Lh={$ClassName:"TFunctionDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Type=null},O9:function(S){var R="";var p7="";var WK="";var a3=0,og=0;var ax=null,hp=0;var bZ=[];a3=0;bZ=S.Type.ParameterList;var $tQ;for(og=0,$tQ=bZ.length;og<$tQ;og++){ax=bZ[og];if(ax.IsOptional)++a3}
p7=vU.ZH(S.ClassType);p7+=(S.Type.ResultType)?"function":"procedure";p7+=" "+Ay(S.Name);WK=";"+((a3>0)?" overload;":"");WK+="\r\n";R="";var $tR;for(hp=0,$tR=a3;hp<=$tR;hp++){R+=p7+vP.gA(S.Type,hp)+WK}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var NR={$ClassName:"TFloatType",$Parent:FL,$Init:function($){FL.$Init($)},IO:function(S){var R="";R="Float";return R},Destroy:TObject.Destroy,e4:vU.e4,O9:FL.O9,IO$:function($){return $.ClassType.IO($)}};var Za={$ClassName:"TExportDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.sB=false},O9:function(S){var R="";R="";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var mK={$ClassName:"TEnumerationItem",$Parent:vU,$Init:function($){vU.$Init($);$.Name=$.Value=""},O9:function(S){var R="";R=S.Name;return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var UV={$ClassName:"TEnumerationDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Items=[]},O9:function(S){var R="";var KR=0;var zR=null;var Xl=[];R+=vU.ZH(S.ClassType)+"T"+S.Name+" = Variant;"+"\r\n";R+=vU.ZH(S.ClassType)+"T"+S.Name+"Helper = strict helper for T"+S.Name+"\r\n";vU.As(S.ClassType);Xl=S.Items;var $tS;for(KR=0,$tS=Xl.length;KR<$tS;KR++){zR=Xl[KR];R+=vU.ZH(S.ClassType)+"const "+Ay(vU.O9$(zR));if(zR.Value!=""){try{R+=" = "+(parseInt(zR.Value,10)).toString()+";"+"\r\n"}catch($e){R+=" = '"+zR.Value+"';"+"\r\n"}}else R+=" = '"+zR.Name+"';"+"\r\n"}
vU.pE(S.ClassType);R+=vU.ZH(S.ClassType)+"end;"+"\r\n";R+="\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var ad={$ClassName:"TDefinitionDeclaration",$Parent:GK,$Init:function($){GK.$Init($)},O9:function(S){var R="";console.log("not implemented: TDefinitionDeclaration.GetAsCode");return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var Y6={$ClassName:"TConstructorType",$Parent:t6,$Init:function($){t6.$Init($);$.ResultType=null;$.ParameterList=[]},O9:function(S){var R="";var mn=0;if(S.ParameterList.length>0){R="("+kK.iA(S.ParameterList[0],false);var $tT;for(mn=0+1,$tT=S.ParameterList.length;mn<$tT;mn++){R+="; "+kK.iA(S.ParameterList[mn],false)}
R+=")"}
if(S.ResultType)R+=": "+vU.O9$(S.ResultType);return R},IO:function(S){var R="";R="constructor";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)},IO$:function($){return $.ClassType.IO($)}};var zm={$ClassName:"TConstructorDeclaration",$Parent:vE,$Init:function($){vE.$Init($);$.ParameterList=[];$.Type=null},O9:function(S){var R="";R=vU.ZH(S.ClassType)+"constructor Create";if(S.Type)R+=vU.O9$(S.Type);R+=";"+"\r\n";return R},Destroy:TObject.Destroy,e4:nM.e4,O9$:function($){return $.ClassType.O9($)}};var H1={$ClassName:"TClassDeclaration",$Parent:he,$Init:function($){he.$Init($);$.Implements=[];$.Members=[]},O9:function(S){var R="";var TU=0;var fm=0;var Pk=null;var hR=[];R+=vU.ZH(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=vU.O9$(S.Extends[0]);var $tU;for(TU=0+1,$tU=S.Extends.length;TU<$tU;TU++){R+=", "+vU.O9$(S.Extends[TU])}
R+=")"}
R+="\r\n";vU.As(S.ClassType);hR=S.Members;var $tV;for(fm=0,$tV=hR.length;fm<$tV;fm++){Pk=hR[fm];R+=vU.O9$(Pk)}
vU.pE(S.ClassType);R+=vU.ZH(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var IM={$ClassName:"TCallSignature",$Parent:nM,$Init:function($){nM.$Init($);$.ParameterList=[];$.Type=null;$.TypeParameters=[]},O9:function(S){var R="";var SD=0;var j3=null,ze=0;R="";if(S.TypeParameters.length>0){var fI=[];R+="{<";fI=S.TypeParameters;var $tW;for(SD=0,$tW=fI.length;SD<$tW;SD++){j3=fI[SD];R+=vU.O9$(j3)}
R+=">}"}
if(S.ParameterList.length>0){R+="(";var $tX;for(ze=0,$tX=(S.ParameterList.length-1);ze<$tX;ze++){R+=EJ.O5(S.ParameterList[ze],false)+"; "}
R+=EJ.O5(S.ParameterList[(S.ParameterList.length-1)],false)+")"}
if(S.Type)R+=": "+vU.O9$(S.Type);R+=";";return R},Lw:function(S,Em){var R="";var zF=false;var AY=0,wx=0;AY=0;if(S.ParameterList.length>0){if(!(S.ParameterList[0].IsOptional&&Em==0)){AY+=(S.ParameterList[0].IsOptional?1:0);zF=S.ParameterList.length>=2&&ZE(S.ParameterList[0],S.ParameterList[1])&&((!S.ParameterList[0].IsOptional)||AY<Em);R="("+EJ.O5(S.ParameterList[0],zF);var $tY;for(wx=0+1,$tY=S.ParameterList.length;wx<$tY;wx++){if(S.ParameterList[wx].IsOptional&&AY>=Em)break;AY+=(S.ParameterList[wx].IsOptional?1:0);R+=(zF)?", ":"; ";zF=wx+1<S.ParameterList.length&&ZE(S.ParameterList[wx],S.ParameterList[wx+1])&&((!S.ParameterList[wx].IsOptional)||AY<Em);R+=EJ.O5(S.ParameterList[wx],zF)}
R+=")"}}
if(S.Type)R+=": "+vU.O9$(S.Type);return R},Destroy:TObject.Destroy,e4:nM.e4,O9$:function($){return $.ClassType.O9($)}};var Ko={$ClassName:"TBooleanType",$Parent:FL,$Init:function($){FL.$Init($)},IO:function(S){var R="";R="Boolean";return R},Destroy:TObject.Destroy,e4:vU.e4,O9:FL.O9,IO$:function($){return $.ClassType.IO($)}};var DX={$ClassName:"TArrayType",$Parent:Qb,$Init:function($){Qb.$Init($);$.Type=null},O9:function(S){var R="";R="array of "+vU.O9$(S.Type);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var hS={$ClassName:"TAmbientVariableDeclaration",$Parent:vU,$Init:function($){vU.$Init($);$.IsConst=false;$.AmbientBindingList=[]},O9:function(S){var R="";var wl=0;var Tp=null;var VZ=[];VZ=S.AmbientBindingList;var $tZ;for(wl=0,$tZ=VZ.length;wl<$tZ;wl++){Tp=VZ[wl];R+=vU.ZH(S.ClassType)+vU.O9$(Tp)}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var UE={$ClassName:"TAmbientBodyElement",$Parent:vU,$Init:function($){vU.$Init($)},Destroy:TObject.Destroy,e4:vU.e4,O9:vU.O9};var yu={$ClassName:"TAmbientPropertyMemberDeclaration",$Parent:UE,$Init:function($){UE.$Init($);$.Visibility=0;$.IsStatic=false;$.Name=""},Destroy:TObject.Destroy,e4:vU.e4,O9:vU.O9};var DE={$ClassName:"TAmbientPropertyMemberDeclarationProperty",$Parent:yu,$Init:function($){yu.$Init($);$.Type=null},O9:function(S){var R="";R=vU.ZH(S.ClassType);if(S.IsStatic)R+="class var ";R+=Ay(S.Name);R+=": "+((S.Type)?vU.O9$(S.Type):"Variant");R+=";"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var Wd={$ClassName:"TAmbientPropertyMemberDeclarationMethod",$Parent:yu,$Init:function($){yu.$Init($);$.CallSignature=null},O9:function(S){var R="";var kF="";var RM="";var dS=0,CK=0;var Sm=null,vX=0;var su=[];dS=0;su=S.CallSignature.ParameterList;var $ta;for(CK=0,$ta=su.length;CK<$ta;CK++){Sm=su[CK];if(Sm.IsOptional)++dS}
kF=vU.ZH(S.ClassType);kF+=(S.CallSignature.Type)?"function":"procedure";kF+=" "+Ay(S.Name);RM=(dS>0)?" overload;":"";RM+="\r\n";R="";var $tb;for(vX=0,$tb=dS;vX<=$tb;vX++){R+=kF+IM.Lw(S.CallSignature,vX)+RM}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var vF={$ClassName:"TAmbientNamespaceDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Namespaces=[];$.Variables=[];$.Interfaces=[];$.Enums=[];$.Functions=[];$.Classes=[]},O9:function(S){var R="";var gy=0,pQ=0;var ee=null,Iul=0;var Xe=null,ET=0;var df=null,OW=0;var M6=null,avp=0;var jf=null,uD=0;var Qm=null,zU=0;var kV=null,tp=0;var Rn=null;var Uf=[],hB=[];vU.ai(S.ClassType,S.Name);gy=0;hB=S.Variables;var $tc;for(pQ=0,$tc=hB.length;pQ<$tc;pQ++){ee=hB[pQ];if(ee.IsConst)++gy}
if(gy>0){var sG=[];R+="const"+"\r\n";vU.As(S.ClassType);sG=S.Variables;var $td;for(Iul=0,$td=sG.length;Iul<$td;Iul++){Xe=sG[Iul];if(Xe.IsConst)R=R+vU.O9$(Xe)}
vU.pE(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var EX=[],z3=[],UU=[];R+="type"+"\r\n";vU.As(S.ClassType);UU=S.Enums;var $te;for(ET=0,$te=UU.length;ET<$te;ET++){df=UU[ET];R+=vU.O9$(df)}
z3=S.Classes;var $tf;for(OW=0,$tf=z3.length;OW<$tf;OW++){M6=z3[OW];R+=vU.O9$(M6)}
EX=S.Interfaces;var $tg;for(avp=0,$tg=EX.length;avp<$tg;avp++){jf=EX[avp];R+=vU.O9$(jf)}
vU.pE(S.ClassType)}
if(S.Functions.length>0){var iy=[];iy=S.Functions;var $th;for(uD=0,$th=iy.length;uD<$th;uD++){Qm=iy[uD];R+=vU.O9$(Qm)}
R+="\r\n"}
if(S.Variables.length-gy>0){var iq=[];R+="var"+"\r\n";vU.As(S.ClassType);iq=S.Variables;var $ti;for(zU=0,$ti=iq.length;zU<$ti;zU++){kV=iq[zU];if(!kV.IsConst)R=R+vU.O9$(kV)}
vU.pE(S.ClassType);R+="\r\n"}
Uf=S.Namespaces;var $tj;for(tp=0,$tj=Uf.length;tp<$tj;tp++){Rn=Uf[tp];R+=vU.O9$(Rn)}
R+="\r\n";vU.g7(S.ClassType);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var iD={$ClassName:"TAmbientModuleDeclaration",$Parent:vU,$Init:function($){vU.$Init($);$.Interfaces=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.TypeAliases=[];$.IdentifierPath="";$.Enums=[];$.Variables=[]},O9:function(S){var R="";var Mh=0,IN=0;var dO=null,Ek=0;var Mz=null,mP=0;var OQ=null,Ks=0;var d4=null,Ru=0;var UP=null,dB=0;var Aa=null,ur=0;var zu=null,gE=0;var gZ=null,V3=0;var aN=null,Tb=0;var Pv=null;var h6=[],x7=[],JE=[];R="\/\/"+S.IdentifierPath+"\r\n"+"\r\n";Mh=0;h6=S.Variables;var $tk;for(IN=0,$tk=h6.length;IN<$tk;IN++){dO=h6[IN];if(dO.IsConst)++Mh}
if(Mh>0){var pc=[];R+="const"+"\r\n";vU.As(S.ClassType);pc=S.Variables;var $tl;for(Ek=0,$tl=pc.length;Ek<$tl;Ek++){Mz=pc[Ek];if(Mz.IsConst)R=R+vU.O9$(Mz)}
vU.pE(S.ClassType);R+="\r\n"}
if(S.Enums.length+S.Classes.length+S.Interfaces.length>0){var ZB=[],WeA=[],GD=[],RsD=[];R+="type"+"\r\n";vU.As(S.ClassType);WeA=S.Enums;var $tm;for(mP=0,$tm=WeA.length;mP<$tm;mP++){OQ=WeA[mP];R+=vU.O9$(OQ)}
ZB=S.Classes;var $tn;for(Ks=0,$tn=ZB.length;Ks<$tn;Ks++){d4=ZB[Ks];R+=vU.O9$(d4)}
RsD=S.Interfaces;var $to;for(Ru=0,$to=RsD.length;Ru<$to;Ru++){UP=RsD[Ru];R+=vU.O9$(UP)}
GD=S.TypeAliases;var $tp;for(dB=0,$tp=GD.length;dB<$tp;dB++){Aa=GD[dB];R+=vU.O9$(Aa)}
vU.pE(S.ClassType)}
x7=S.Modules;var $tq;for(ur=0,$tq=x7.length;ur<$tq;ur++){zu=x7[ur];R+=vU.O9$(zu)}
if(S.Functions.length>0){var mE=[];mE=S.Functions;var $tr;for(gE=0,$tr=mE.length;gE<$tr;gE++){gZ=mE[gE];R+=vU.O9$(gZ)}
R+="\r\n"}
if(S.Variables.length-Mh>0){var bR=[];R+="var"+"\r\n";vU.As(S.ClassType);bR=S.Variables;var $ts;for(V3=0,$ts=bR.length;V3<$ts;V3++){aN=bR[V3];if(!aN.IsConst)R=R+vU.O9$(aN)}
vU.pE(S.ClassType);R+="\r\n"}
JE=S.Namespaces;var $tt;for(Tb=0,$tt=JE.length;Tb<$tt;Tb++){Pv=JE[Tb];R+=vU.O9$(Pv)}
R+="\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var WV={$ClassName:"TAmbientFunctionDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.CallSignature=null},O9:function(S){var R="";var NH="";var VC="";var uW=0,TC=0;var bV=null,Wf=0;var xV=[];uW=0;xV=S.CallSignature.ParameterList;var $tu;for(TC=0,$tu=xV.length;TC<$tu;TC++){bV=xV[TC];if(bV.IsOptional)++uW}
NH=vU.ZH(S.ClassType);NH+=(S.CallSignature.Type)?"function":"procedure";NH+=" "+Ay(S.Name);VC=";"+((uW>0)?" overload;":"");if(vU.cV(S.ClassType)!="")VC+=" external '"+vU.cV(S.ClassType)+"."+S.Name+"'";VC+="\r\n";R="";var $tv;for(Wf=0,$tv=uW;Wf<=$tv;Wf++){R+=NH+IM.Lw(S.CallSignature,Wf)+VC}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var RS={$ClassName:"TAmbientEnumerationDeclaration",$Parent:UV,$Init:function($){UV.$Init($)},Destroy:TObject.Destroy,e4:vU.e4,O9:UV.O9};var l6={$ClassName:"TAmbientDeclaration",$Parent:GK,$Init:function($){GK.$Init($);$.Variables=[];$.Namespaces=[];$.Modules=[];$.Classes=[];$.Functions=[];$.Enums=[]},O9:function(S){var R="";var XI=0;var ka=null,An=0;var sO=null,x6=0;var RB=null,Qss=0;var ND=null,He=0;var Si=null;var i1=[],c4=[],C4=[],zY=[];c4=S.Functions;var $tw;for(XI=0,$tw=c4.length;XI<$tw;XI++){ka=c4[XI];R+=vU.O9$(ka)}
i1=S.Modules;var $tx;for(An=0,$tx=i1.length;An<$tx;An++){sO=i1[An];R+=vU.O9$(sO)}
if(S.Classes.length>0){var cX=[];R+="type"+"\r\n";vU.As(S.ClassType);cX=S.Classes;var $ty;for(x6=0,$ty=cX.length;x6<$ty;x6++){RB=cX[x6];R+=vU.O9$(RB)}
vU.pE(S.ClassType)}
if(S.Variables.length>0){zY=S.Variables;var $tz;for(Qss=0,$tz=zY.length;Qss<$tz;Qss++){ND=zY[Qss];R+=vU.O9$(ND)}}
C4=S.Namespaces;var $t01;for(He=0,$t01=C4.length;He<$t01;He++){Si=C4[He];R+=vU.O9$(Si)}
return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var XE={$ClassName:"TAmbientConstructorDeclaration",$Parent:UE,$Init:function($){UE.$Init($);$.ParameterList=[]},O9:function(S){var R="";var Mk=0;R=vU.ZH(S.ClassType)+"constructor Create";if(S.ParameterList.length>0){R+="(";var $t11;for(Mk=0,$t11=(S.ParameterList.length-1);Mk<$t11;Mk++){R+=kK.iA(S.ParameterList[Mk],false)+"; "}
R+=kK.iA(S.ParameterList[(S.ParameterList.length-1)],false)+")";R+=")"}
R+=";"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var vQ={$ClassName:"TAmbientClassDeclaration",$Parent:vU,$Init:function($){vU.$Init($);$.Members=[];$.Name="";$.Extends=[];$.Implements=[]},O9:function(S){var R="";var zOR=0;var c2=0,JP=0;var Vt=null,rv=0;var FwX=[];R+=vU.ZH(S.ClassType)+"J"+S.Name+" = class external '"+S.Name+"'";if(S.Extends.length>0){R+="(";R+=vU.O9$(S.Extends[0]);var $t21;for(zOR=0+1,$t21=S.Extends.length;zOR<$t21;zOR++){R+=", "+vU.O9$(S.Extends[zOR])}
R+=")"}
R+="\r\n";c2=0;vU.As(S.ClassType);FwX=S.Members;var $t31;for(JP=0,$t31=FwX.length;JP<$t31;JP++){Vt=FwX[JP];rv=($Is(Vt,yu))?$As(Vt,yu).Visibility:0;if(c2!=rv){vU.pE(S.ClassType);R+=vU.ZH(S.ClassType);switch(rv){case 0:R+="public"+"\r\n";break;case 1:R+="protected"+"\r\n";break;case 2:R+="private"+"\r\n";break}
vU.As(S.ClassType);c2=rv}
R+=vU.O9$(Vt)}
vU.pE(S.ClassType);R+=vU.ZH(S.ClassType)+"end;"+"\r\n"+"\r\n";return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var yB={$ClassName:"TAmbientBinding",$Parent:GK,$Init:function($){GK.$Init($);$.Type=null},O9:function(S){var R="";R=S.Name+": "+vU.O9$(S.Type);return R},Destroy:TObject.Destroy,e4:vU.e4,O9$:function($){return $.ClassType.O9($)}};var DZ=["amPublic","amPrivate","amProtected"];function ZE(s6,Ix){var R=false;R=(!(s6.Type!==null)!=!(s6.Type!==null));if(R&&(s6.Type!==null))R=vU.O9$(s6.Type)==vU.O9$(Ix.Type);return R};function kx(SE,j2){var R=false;R=(!(SE.Type!==null)!=!(SE.Type!==null));if(R&&(SE.Type!==null))R=vU.O9$(SE.Type)==vU.O9$(j2.Type);return R};function Ay(IA){var R="";R=IA;if((["abstract","class","const","constructor","default","div","end","export","external","function","interface","label","object","private","property","protected","public","string","type","uses"].indexOf((IA).toLowerCase())>=0))R="&"+R;if((["length","include","exclude"].indexOf((IA).toLowerCase())>=0))R="_"+R;return R};var H=null;var H=require("typescript");var nC=0;var OO=[];var v=[],iP="",U3="",Af=null;var Af=Z9();v=process.argv;v.splice(0,2);if(v.length==0){return"Usage: ts2pas inputfile [outputfile]"}
iP=v[0];if(((iP).indexOf("https:\/\/github.com\\")>=0)){CP(StrAfter(iP,"https:\/\/github.com\\"))}else{U3=v[0]+".pas";if(v.length==2)U3=v[1];HG(iP,U3)}
